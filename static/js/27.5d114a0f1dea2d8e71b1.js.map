{"version":3,"sources":["webpack:///src/consumablesManage/views/consumablesManage/createPutInOrderByCheck.vue","webpack:///./src/consumablesManage/views/consumablesManage/createPutInOrderByCheck.vue","webpack:///./src/consumablesManage/views/consumablesManage/createPutInOrderByCheck.vue?748c"],"names":["createPutInOrderByCheck","components","AddGoods","addGoods","ImportMsg","importMsg","data","warehouseArr","typeArr","supplierArr","provideModal","provideForm","date","Date","toLocaleDateString","warehouse","this","$route","params","warehouseId","split","type","supplier","purchaser","applyDepartArr","goodsCols","title","align","width","key","slot","renderHeader","h","class","formGoodsData","attrData","provideRemarkForm","remark","ruleValidate","required","message","trigger","saveLoading","leaderArr","loading","userName","addGoodsModal","delId","delIndex","curIndex","code","editId","editOrderNO","importModal","importForm","file","fileName","importErrorMsg","created","_this","getIntoKindList","then","response","getGoodsSupplierAllEnable","getChargedStoreRoom","e","getFullYear","fillZero","getMonth","getDate","$store","dispatch","res","getInventoryGoodsInfo","computed","methods","getIntoWarehouseRecordInfo","id","_this2","BaseAxios","method","url","aData","kindCode","goodsSupplierId","buyserId","note","goodsList","map","item","push","name","classify","goodsKind","brand","model","size","unit","number","count","currentInventory","inventory","price","parseInt","unitPrice","amount","sum","priceList","num","productDate","catch","error","postErrorTip","console","log","_this3","statuses","goodsInfoName","list","length","goodsInfoId","goodsKindName","changeDate","val","toPutIn","$router","path","handleSummary","_ref","columns","sums","forEach","column","index","values","Number","every","value","isNaN","v","reduce","prev","curr","remoteMethod","_this4","selectLeader","addGoodsHandle","addGood","addGoodId","$refs","child","getKind","selectedArr","slice","selectedArrId","postWarningTip","saveGoodsHandle","getInventoryByParam","join","goodsInfoIds","_this5","_loop","$set","getGoodsByCodeHandle","getGoodsByCode","_this6","ids","getGoodsInfoByUseType","indexOf","setHistoryPrice","getCurrIndex","saveOrUpdateIntoWarehouseRecord","buyer","goodsArr","_this7","i","handleSubmit","flag","flag2","validate","valid","clickRowHandle","row","rowClassName","delRowHandle","splice","importHandle","resetFields","handleUpload","utils","regImportType","test","validateField","regImportTypeMsg","importSubmit","_this8","saveImport","_this9","formData","FormData","append","processData","contentType","transformRequest","errorCode","msg","listData","upload","mounted","__vue_styles__","context","__webpack_require__","Component","Object","component_normalizer","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","rules","label-width","inline","label","prop","editable","placement","format","placeholder","callback","$$v","expression","_v","_l","_s","filterable","remote","remote-method","option","on","click","maxlength","nativeOn","keyup","$event","_k","keyCode","border","show-summary","summary-method","row-class-name","on-row-click","scopedSlots","_u","fn","max","min","precision","on-change","on-click","staticStyle","autosize","minRows","maxRows","trim","mask-closable","action","accept","before-upload","icon","_e","href","serverPath","directives","rawName","hidden","domProps","input","target","composing","__webpack_exports__"],"mappings":"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","file":"static/js/27.5d114a0f1dea2d8e71b1.js","sourcesContent":["<template>\n  <div class=\"zd-common-component\">\n    <Form class=\"zd-cm-applyForm\" ref=\"provideForm\" :model=\"provideForm\" :rules=\"ruleValidate\" :label-width=\"85\" inline>\n      <!--<FormItem label=\"入库单号：\" prop=\"outOrder\">\n        <Input v-model.trim=\"provideForm.outOrder\" placeholder=\"入库单号\" class=\"zd-common-w150 zd-common-mr10\" :maxlength=\"30\"></Input>\n      </FormItem>-->\n      <FormItem label=\"入库日期：\" prop=\"date\">\n        <DatePicker v-model=\"provideForm.date\" :editable=\"false\" type=\"date\" placement=\"bottom-end\" format=\"yyyy-MM-dd\"\n                    placeholder=\"入库日期\" class=\"zd-common-input-h38 zd-common-w150 zd-common-mr10\"\n                    ></DatePicker>\n      </FormItem>\n      <FormItem label=\"入库仓库：\" prop=\"warehouse\">\n        <Select v-model=\"provideForm.warehouse\" placeholder=\"选择入库仓库\" class=\"zd-common-w150 zd-common-mr10\">\n          <Option v-for=\"item in warehouseArr\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\n        </Select>\n      </FormItem>\n      <FormItem label=\"入库类型：\" prop=\"type\">\n        <Select v-model=\"provideForm.type\" placeholder=\"选择入库类型\" class=\"zd-common-w150 zd-common-mr10\">\n          <Option v-for=\"item in typeArr\" :value=\"item.code\" :key=\"item.code\">{{ item.name }}</Option>\n        </Select>\n      </FormItem>\n      <FormItem label=\"供应商：\" :label-width=\"60\">\n        <Select v-model=\"provideForm.supplier\" placeholder=\"全部供应商\" class=\"zd-common-w150 zd-common-mr10\">\n          <Option v-for=\"item in supplierArr\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\n        </Select>\n      </FormItem>\n      <FormItem label=\"购买人：\" :label-width=\"60\">\n        <Select\n          ref=\"purchaser\"\n          class=\"zd-common-input-h38 zd-common-w150 zd-common-fl zd-common-mr10\"\n          placeholder=\"购买人\"\n          v-model=\"provideForm.purchaser\"\n          filterable\n          remote\n          :remote-method=\"remoteMethod\"\n          :loading=\"loading\">\n          <Option v-for=\"option in leaderArr\" :value=\"option.id\" :key=\"option.id\">{{option.name}}</Option>\n        </Select>\n\n      </FormItem>\n    </Form>\n    <div class=\"zd-common-black-b zd-common-pt5 zd-common-pb5 zd-common-pl20\">\n      <Button type=\"default\" class=\"zd-common-mr10 zd-common-h32 zd-common-lh8\" @click=\"addGoodsHandle\">\n        添加\n      </Button>\n      <Button type=\"default\" class=\"zd-common-mr10 zd-common-h32 zd-common-lh8\" @click=\"delRowHandle\">\n        删除\n      </Button>\n      <Button type=\"default\" class=\"zd-common-mr10 zd-common-h32 zd-common-lh8\" @click=\"importHandle\">\n        导入\n      </Button>\n      <Input v-model=\"code\" placeholder=\"请输入物品编码，按Enter添加\" :maxlength=\"50\" class=\"zd-cm-w220 zd-common-input-h32\"\n             @keyup.enter.native=\"getGoodsByCodeHandle\"/>\n    </div>\n    <Form ref=\"formGoodsData\" :model=\"formGoodsData\" class=\"zd-common-mt10\">\n      <Table class=\"zd-common-overflow-v\" border :columns=\"goodsCols\" :data=\"formGoodsData.attrData\" show-summary\n             :summary-method=\"handleSummary\" :row-class-name=\"rowClassName\" @on-row-click=\"clickRowHandle\">\n        <template slot-scope=\"{ row,index }\" slot=\"number\">\n          <Form-item class=\"zd-common-mt24\" :prop=\"'attrData.' + index + '.number'\"\n                     :rules=\"{required: true, message:'不能为空', trigger:'change',type:'number'}\">\n            <InputNumber :max=\"9999\" :min=\"1\" :precision='0' placeholder=\"数量\"\n                         v-model=\"formGoodsData.attrData[index].number\" @on-change=\"getCurrIndex(index)\"/>\n          </Form-item>\n        </template>\n        <template slot-scope=\"{ row,index }\" slot=\"price\">\n          <Dropdown placement=\"bottom-start\" trigger=\"click\" @on-click=\"setHistoryPrice\">\n            <Form-item class=\"zd-common-mt24\" :prop=\"'attrData.' + index + '.price'\"\n                       :rules=\"{required: true, message:'不能为空', trigger:'change',type:'number'}\">\n              <InputNumber :min=\"0.01\" :precision='2' placeholder=\"价格\" v-model=\"formGoodsData.attrData[index].price\"\n                           @on-change=\"getCurrIndex(index)\"/>\n            </Form-item>\n            <DropdownMenu slot=\"list\">\n              <DropdownItem v-for=\"item in formGoodsData.attrData[index].priceList\" :key=\"item\" :name=\"item\">{{ item\n                }}</DropdownItem>\n            </DropdownMenu>\n          </Dropdown>\n        </template>\n        <!--<template slot-scope=\"{ row,index }\" slot=\"purchaser\">\n          <Form-item class=\"zd-common-mt24\" :prop=\"'attrData.' + index + '.purchaser'\"\n                     :rules=\"{required: true, message:'不能为空', trigger:'blur'}\">\n            <Input :precision='0' placeholder=\"购买人\" v-model=\"formGoodsData.attrData[index].purchaser\"/>\n          </Form-item>\n        </template>-->\n        <template slot-scope=\"{ row,index }\" slot=\"amount\">\n          <Form-item class=\"zd-common-mt24\">\n            <InputNumber :min=\"1\" :precision='2' placeholder=\"金额\" v-model=\"formGoodsData.attrData[index].amount\"/>\n          </Form-item>\n        </template>\n      </Table>\n    </Form>\n    <div class=\"zd-common-mt10 zd-common-clearFix\">\n      <span class=\"zd-common-fl\">制单人：{{ userName }}</span>\n      <span class=\"zd-common-fl zd-common-ml20\">制单日期：{{ date }}</span>\n    </div>\n    <Form ref=\"provideRemarkForm\" :model=\"provideRemarkForm\" class=\"zd-common-mt20\">\n      <FormItem label=\"备注：\" class=\"zd-common-mb0\">\n        <Input style=\"width: 826px;\" class=\"zd-common-fl\" v-model.trim=\"provideRemarkForm.remark\" placeholder=\"备注\" :maxlength=\"100\" type=\"textarea\" :autosize=\"{minRows: 5,maxRows: 5}\"></Input>\n      </FormItem>\n    </Form>\n    <div slot=\"footer\" class=\"zd-common-modal-footer zd-common-pt30\">\n      <Button type=\"primary\" class=\"zd-common-mr35 zd-common-w100 zd-common-h32 zd-common-lh8\" @click=\"handleSubmit\"\n              :loading=\"saveLoading\">\n        <span v-if=\"!saveLoading\">确定</span>\n        <span v-else>正在保存...</span>\n      </Button>\n      <Button @click=\"toPutIn\" class=\"zd-common-w100 zd-common-h32 zd-common-lh8\">取消</Button>\n    </div>\n    <!--添加物品-->\n    <Modal v-model=\"addGoodsModal\" :mask-closable=\"false\" :width=\"1200\" >\n      <h3 slot=\"header\" class=\"zd-common-modal-header\">\n        <span>物品档案</span>\n      </h3>\n      <add-goods ref=\"child\"></add-goods>\n      <div slot=\"footer\" class=\"zd-common-modal-footer zd-common-pt10\">\n        <div slot=\"footer\" class=\"zd-common-modal-footer zd-common-pt10\">\n          <Button type=\"primary\" class=\"zd-common-mr35 zd-common-w100 zd-common-h32 zd-common-lh8\" @click=\"saveGoodsHandle\">确定</Button>\n          <Button @click=\"addGoodsModal = false\" class=\"zd-common-w100 zd-common-h32 zd-common-lh8\">取消</Button>\n        </div>\n      </div>\n    </Modal>\n    <!--导入-->\n    <Modal v-model=\"importModal\" :mask-closable=\"false\">\n      <h3 slot=\"header\" class=\"zd-common-modal-header\">\n        <span>导入物品档案</span>\n      </h3>\n      <Form ref=\"importForm\" :model=\"importForm\" :rules=\"ruleValidate\" :label-width=\"100\" inline>\n        <FormItem label=\"上传文件：\"  prop=\"fileName\">\n          <Upload\n            ref=\"upload\"\n            action=\"//\"\n            accept=\"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n            :before-upload=\"handleUpload\"\n          >\n            <Button type=\"primary\" icon=\"ios-cloud-upload-outline\">选择文件</Button>\n          </Upload>\n          <div v-if=\"importForm.file !== null\"> {{ importForm.file.name }} </div>\n          <a :href=\"serverPath+'/sr/storeroomData!downloadIntoTemplate.action'\">下载模板</a>\n          <input type=\"text\" v-model=\"importForm.fileName\" hidden/>\n        </FormItem>\n      </Form>\n      <import-msg :importErrorMsg=\"importErrorMsg\"></import-msg>\n      <div slot=\"footer\" class=\"zd-common-modal-footer zd-common-pt10\">\n        <Button type=\"primary\" class=\"zd-common-mr35 zd-common-w100 zd-common-h32 zd-common-lh8\"\n                @click=\"importSubmit('importForm')\" :loading=\"saveLoading\">\n          <span v-if=\"!saveLoading\">确定</span>\n          <span v-else>正在保存...</span>\n        </Button>\n        <Button @click=\"importModal = false\" class=\"zd-common-w100 zd-common-h32 zd-common-lh8\">取消</Button>\n      </div>\n    </Modal>\n  </div>\n</template>\n<script>\n  import AddGoods from \"../../components/addGoods\";\n  import ImportMsg from '../../components/importMsg';\n  import {utils} from \"../../../comm/script/utils\";\n\n  export default {\n    components:{\n      AddGoods,\n      ImportMsg\n    },\n    data(){\n      return {\n        //添加入库单\n        warehouseArr:[],\n        typeArr:[],\n        supplierArr:[],\n        provideModal:false,\n        provideForm:{\n          date:new Date().toLocaleDateString(),\n          warehouse:this.$route.params.warehouseId.split('_')[1],\n          type:'py',\n          supplier:'',\n          purchaser:''\n        },\n        applyDepartArr:[],\n        goodsCols:[\n          {\n            type: 'index',\n            title:'序号',\n            align: 'center',\n            width:65,\n            key:'sortNum'\n          },\n          {\n            title: '物品名称',\n            align: 'center',\n            key: 'name',\n          },\n          {\n            title: '物品编码',\n            align: 'center',\n            key: 'code',\n          },\n          {\n            title: '物品分类',\n            align: 'center',\n            key: 'classify',\n          },\n          {\n            title: '品牌',\n            align: 'center',\n            key: 'brand',\n          },\n          {\n            title: '规格/型号',\n            align: 'center',\n            key: 'model',\n          },\n          {\n            title: '单位',\n            align: 'center',\n            key: 'unit',\n          },\n          {\n            title: '当前库存',\n            align: 'center',\n            key: 'currentInventory',\n          },\n          {\n            title: '入库数量',\n            align: 'center',\n            slot: 'number',\n            key: 'number',\n            renderHeader:(h,params)=>{\n              return h('div',[\n                h('span', {\n                  class:'zd-cm-required'\n                },'入库数量'),\n              ])\n            }\n          },\n          {\n            title: '价格',\n            align: 'center',\n            slot: 'price',\n            key: 'price',\n            renderHeader:(h,params)=>{\n              return h('div',[\n                h('span', {\n                  class:'zd-cm-required'\n                },'价格'),\n              ])\n            }\n          },\n          /*{\n            title: '购买人',\n            align: 'center',\n            slot: 'purchaser',\n          },*/\n          {\n            title: '金额',\n            align: 'center',\n            slot: 'amount',\n            key: 'amount',\n          }\n        ],\n        formGoodsData:{\n          attrData:[]\n        },\n        provideRemarkForm:{\n          remark:''\n        },\n        ruleValidate: {\n          date: [\n            { required: true, type: 'date', message:'不能为空', trigger: 'change' }\n          ],\n          warehouse: [\n            { required: true, message:'不能为空', trigger: 'change' }\n          ],\n          type: [\n            { required: true, message:'不能为空', trigger: 'change' }\n          ],\n        },\n        saveLoading:false,\n        leaderArr:[],\n        loading:false,\n        date:'',\n        userName:'',\n        //添加物品\n        addGoodsModal:false,\n        delId:'',\n        delIndex:'',\n        //设置历史价格\n        curIndex:null,\n        //通过code添加\n        code:'',\n        //修改\n        editId:'',\n        editOrderNO:'',\n        //导入\n        importModal:false,\n        importForm:{\n          file:null,\n          fileName:''\n        },\n        importErrorMsg:[],\n      }\n    },\n    created(){\n      this.getIntoKindList().then((response)=>{\n        this.typeArr = response.data;\n      });\n      this.getGoodsSupplierAllEnable().then((response)=>{\n        this.supplierArr = response.data;\n      });\n      this.getChargedStoreRoom().then((response)=>{\n        this.warehouseArr = response.data;\n      });\n      const e = new Date();\n      this.date = e.getFullYear() +\"-\"+ this.fillZero(e.getMonth()+1) +\"-\"+ this.fillZero(e.getDate());\n      this.$store.dispatch('getBaseInfo').then((res) => {\n        // this.remoteMethod(res.userName);\n        this.userName = res.userName;\n      });\n      this.getInventoryGoodsInfo(this.$route.params.warehouseId.split('_')[0]);\n    },\n    computed:{\n\n    },\n    methods:{\n      //修改获取详情\n      getIntoWarehouseRecordInfo(id) {\n        BaseAxios({\n          method: 'post',\n          url: '/sr/storeroomData!getIntoWarehouseRecordInfo.action',\n          data:{\n            id:id\n          },\n        })\n          .then((response) => {\n              let aData = response.data;\n              this.provideForm.date = new Date(aData.date);\n              this.provideForm.warehouse = aData.warehouseId;\n              this.provideForm.type = aData.kindCode;\n              this.provideForm.supplier = aData.goodsSupplierId;\n              this.provideForm.purchaser = aData.buyserId;\n              this.provideRemarkForm.remark = aData.note;\n              aData.goodsList.map((item)=>{\n                this.formGoodsData.attrData.push(\n                  {\n                    id:item.id,\n                    name:item.name,\n                    code:item.code,\n                    classify:item.goodsKind,\n                    brand:item.brand,\n                    model:item.size,\n                    unit:item.unit,\n                    number:item.count,\n                    currentInventory:item.inventory,\n                    price:parseInt(item.unitPrice),\n                    amount:item.sum,\n                    priceList:[]\n                  }\n                )\n              })\n              this.editOrderNO = aData.num;\n              this.editId = aData.id;\n              this.userName = aData.userName;\n              this.date = aData.productDate;\n          })\n          .catch((error) => {\n            this.postErrorTip('请求失败');\n            console.log(error);\n          });\n      },\n\n      //获取盘点单详情\n      getInventoryGoodsInfo(id) {\n        BaseAxios({\n          method: 'post',\n          url: '/sr/storeroomData!getInventoryGoodsInfo.action',\n          data:{\n            id:id,\n            statuses:'1',\n            goodsInfoName:''\n          },\n        })\n          .then((response) => {\n            const aData = response.data;\n            if(aData.list.length>0){\n              aData.list.map((item)=>{\n                this.formGoodsData.attrData.push(\n                  {\n                    id:item.goodsInfoId,\n                    name:item.name,\n                    code:item.code,\n                    classify:item.goodsKindName,\n                    brand:item.brand,\n                    model:item.size,\n                    unit:item.unit,\n                    number:null,\n                    currentInventory:item.inventory,\n                    amount:null,\n                    price:null,\n                    priceList:[]\n                  }\n                )\n              });\n            }\n          })\n          .catch((error) => {\n            this.postErrorTip('请求失败');\n            console.log(error);\n          });\n      },\n\n      //日期\n      changeDate(val){\n        this.provideForm.date = val;\n      },\n\n      //回到入库单列表\n      toPutIn(){\n        this.$router.push({path:'/putIn'});\n      },\n\n      //合计\n      handleSummary ({ columns, data }) {\n        const sums = {};\n        columns.forEach((column, index) => {\n          const key = column.key;\n          if (index === 0) {\n            sums[key] = {\n              key,\n              value: '合计'\n            };\n            return;\n          }\n          const values = data.map(item => Number(item[key]));\n          if (!values.every(value => isNaN(value)) && (index===8 || index===10)) {\n            const v = values.reduce((prev, curr) => {\n              const value = Number(curr);\n              if (!isNaN(value)) {\n                return prev + curr;\n              } else {\n                return prev;\n              }\n            }, 0);\n            sums[key] = {\n              key,\n              value: v\n            };\n          } else {\n            sums[key] = {\n              key,\n              value: ''\n            };\n          }\n        });\n        return sums;\n      },\n\n      //选择购买人\n      remoteMethod(name){\n        this.selectLeader(name).then((res)=>{\n          this.leaderArr = res.data;\n        })\n      },\n\n      //添加物品\n      addGoodsHandle(){\n        if(this.provideForm.warehouse === \"\"){\n          this.postWarningTip('请先选择入库仓库');\n          return\n        }\n        this.addGoodsModal=true;\n        let addGood = this.formGoodsData.attrData;\n        let addGoodId = [];\n        addGood.map((item)=>{\n          addGoodId.push(item.id);\n        });\n        this.$refs.child.getKind('0');\n        this.$refs.child.selectedArr = addGood.slice();\n        this.$refs.child.selectedArrId = addGoodId;\n      },\n      saveGoodsHandle(){\n        this.addGoodsModal = false;\n        this.formGoodsData.attrData = this.$refs.child.selectedArr.slice();\n        this.getInventoryByParam(this.$refs.child.selectedArrId.join(','),this.provideForm.warehouse);\n      },\n\n      //根据物品 仓库获取库存\n      getInventoryByParam(goodsInfoIds,warehouseId) {\n        BaseAxios({\n          method: 'post',\n          url: '/sr/storeroomData!getInventoryByParam.action',\n          data:{\n            goodsInfoIds:goodsInfoIds,\n            warehouseId:warehouseId,\n          },\n        })\n          .then((response) => {\n            let aData = response.data;\n            for (let key in aData){\n              this.formGoodsData.attrData.map((item)=>{\n                if(item.id === key){\n                    this.$set(item,'currentInventory',aData[key].inventory);\n                    this.$set(item,'priceList',aData[key].priceList);\n                }\n              })\n            }\n          })\n          .catch((error) => {\n            this.postErrorTip('请求失败');\n            console.log(error);\n          });\n      },\n\n      //通过code添加物品\n      getGoodsByCodeHandle(){\n        if(this.code === \"\"){\n          this.postWarningTip('请输入物品编码进行添加');\n          return\n        }\n        this.getGoodsByCode(this.code);\n      },\n      getGoodsByCode(code){\n        const ids = this.formGoodsData.attrData.map((item)=>{\n          return item.id;\n        })\n        this.getGoodsInfoByUseType('0','','',code).then((res)=>{\n          let aData = res.data;\n          aData.map((item)=>{\n            if(ids.indexOf(item.id)<0){\n              this.formGoodsData.attrData.push(\n                {\n                  id:item.id,\n                  name:item.name,\n                  code:item.code,\n                  classify:item.goodsKind,\n                  brand:item.brand,\n                  model:item.size,\n                  unit:item.unit,\n                  number:null,\n                  currentInventory:null,\n                  price:null,\n                  amount:null,\n                  priceList:[]\n                }\n              )\n              this.getInventoryByParam(item.id,this.provideForm.warehouse);\n            }\n          })\n          this.code = \"\";\n\n        });\n      },\n\n      //显示历史价格\n      setHistoryPrice(name){\n        this.formGoodsData.attrData[this.curIndex].price = parseInt(name);\n        this.formGoodsData.attrData[this.curIndex].amount = this.formGoodsData.attrData[this.curIndex].price*this.formGoodsData.attrData[this.curIndex].number;\n      },\n      getCurrIndex(index){\n        this.curIndex = index;\n        this.formGoodsData.attrData[this.curIndex].amount = this.formGoodsData.attrData[this.curIndex].price*this.formGoodsData.attrData[this.curIndex].number;\n      },\n\n      //保存入库单\n      saveOrUpdateIntoWarehouseRecord(date,warehouse,type,supplier,buyer,note,goodsArr,code,id) {\n        let params = {};\n        params['warehouseRecord.date'] = date;\n        params['warehouseRecord.warehouse.id'] = warehouse;\n        params['warehouseRecord.intoKind'] = type;\n        if(supplier!==\"\"){\n          params['warehouseRecord.goodsSupplier.id'] = supplier;\n        }\n        if(buyer!==\"\"){\n          params['warehouseRecord.buyer.id'] = buyer;\n        }\n        params['warehouseRecord.note'] = note;\n        params['warehouseRecord.code'] = code;\n        params['warehouseRecord.id'] = id;\n        goodsArr.map((item,i)=>{\n          params['intoWarehouseGoodsVOs['+i+'].goodsInfoId'] = item.id;\n          params['intoWarehouseGoodsVOs['+i+'].count'] = item.number;\n          params['intoWarehouseGoodsVOs['+i+'].unitPrice'] = item.price;\n          params['intoWarehouseGoodsVOs['+i+'].sum'] = item.amount;\n        });\n        BaseAxios({\n          method: 'post',\n          url: '/sr/storeroomData!saveOrUpdateIntoWarehouseRecord.action',\n          data:params,\n        })\n          .then((response) => {\n              this.saveLoading = false;\n              this.toPutIn();\n          })\n          .catch((error) => {\n            this.saveLoading = false;\n            this.postErrorTip('请求失败');\n            console.log(error);\n          });\n      },\n\n      //保存验证\n      handleSubmit(){\n        let flag = false,flag2 = false;\n        this.$refs['provideForm'].validate((valid) => {\n          if (valid) {\n            flag = true;\n          }\n        });\n        if(this.formGoodsData.attrData.length<=0){\n          this.postWarningTip('请添加物品');\n        }else{\n          this.$refs['formGoodsData'].validate((valid) => {\n            if(valid){\n              flag2 = true;\n            }\n          });\n          if(flag && flag2){\n            this.saveLoading = true;\n            const e = new Date(this.provideForm.date);\n            const date = e.getFullYear() +\"-\"+ this.fillZero((e.getMonth()+1)) +\"-\"+ this.fillZero(e.getDate());\n            this.saveOrUpdateIntoWarehouseRecord(date,this.provideForm.warehouse,this.provideForm.type,this.provideForm.supplier,this.provideForm.purchaser,this.provideRemarkForm.remark,this.formGoodsData.attrData,this.editOrderNO,this.editId);\n          }\n        }\n      },\n\n      //删除添加的物品\n      clickRowHandle(row,index){\n        if(this.delId === row.id){\n          this.delId = \"\";\n          this.delIndex = \"\";\n        }else{\n          this.delId = row.id;\n          this.delIndex = index;\n        }\n      },\n      rowClassName(row, index) {\n        if (this.delId === row.id) {\n          return 'demo-table-info-row';\n        }\n        return '';\n      },\n      delRowHandle(){\n        if(this.delIndex === \"\"){\n          return this.postWarningTip('请选择删除的物品');\n        }else{\n          this.formGoodsData.attrData.splice(this.delIndex,1);\n          if(this.$refs.child.selectedArrId.indexOf(this.delId)>-1){\n            let index = this.$refs.child.selectedArrId.indexOf(this.delId);\n            this.$refs.child.selectedArr.splice(index,1);\n            this.$refs.child.selectedArrId.splice(index,1);\n          }\n        }\n      },\n\n      //导入\n      importHandle(){\n        if(this.provideForm.warehouse === \"\"){\n          this.postWarningTip('请先选择入库仓库');\n          return\n        }\n        this.importErrorMsg = [];\n        this.importModal = true;\n        this.$refs['importForm'].resetFields();\n        this.importForm.file = null;\n      },\n      handleUpload(file) {\n        if(!utils.regImportType.test(file.name)){\n          this.postWarningTip(utils.regImportTypeMsg);\n        }else{\n          this.importForm.file = file;\n          this.importForm.fileName = file.name;\n          this.$refs['importForm'].validateField('fileName');\n        }\n        return false;\n      },\n      importSubmit(name) {\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            this.saveLoading=true;\n            this.saveImport();\n          }\n        })\n      },\n      saveImport(){\n        let formData = new FormData();\n        formData.append('id',this.provideForm.warehouse);\n        formData.append('upload',this.importForm.file);\n        BaseAxios({\n          method: 'post',\n          url: '/sr/storeroomData!importIntoGoodsInfo.action',\n          data:formData,\n          processData: false,\n          contentType: false,\n          transformRequest: [function (data) {\n            return data;\n          }],\n        })\n          .then((response) => {\n            let aData = response.data;\n            if(aData.errorCode === '1'){\n              this.importErrorMsg = aData.msg;\n            }else{\n              this.importModal=false;\n              this.importForm.file = null;\n              aData.listData.map((item)=>{\n                this.formGoodsData.attrData.push(\n                  {\n                    id:item.id,\n                    name:item.name,\n                    code:item.code,\n                    classify:item.goodsKind,\n                    brand:item.brand,\n                    model:item.size,\n                    unit:item.unit,\n                    number:item.count,\n                    currentInventory:item.inventory,\n                    price:item.unitPrice,\n                    amount:item.sum,\n                    priceList:[]\n                  }\n                )\n              })\n            }\n            this.saveLoading=false;\n          })\n          .catch((error) => {\n            this.saveLoading=false;\n            this.importModal=false;\n            this.postErrorTip('请求失败');\n            this.$refs.upload.value = '';\n            console.log(error);\n          });\n      }\n    },\n    mounted(){}\n  }\n</script>\n<style lang=\"less\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/consumablesManage/views/consumablesManage/createPutInOrderByCheck.vue","function injectStyle (context) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-41f1a26f\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=styles&index=0!./createPutInOrderByCheck.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=script&index=0!./createPutInOrderByCheck.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=script&index=0!./createPutInOrderByCheck.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-41f1a26f\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=template&index=0!./createPutInOrderByCheck.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-41f1a26f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/consumablesManage/views/consumablesManage/createPutInOrderByCheck.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"zd-common-component\"},[_c('Form',{ref:\"provideForm\",staticClass:\"zd-cm-applyForm\",attrs:{\"model\":_vm.provideForm,\"rules\":_vm.ruleValidate,\"label-width\":85,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"label\":\"入库日期：\",\"prop\":\"date\"}},[_c('DatePicker',{staticClass:\"zd-common-input-h38 zd-common-w150 zd-common-mr10\",attrs:{\"editable\":false,\"type\":\"date\",\"placement\":\"bottom-end\",\"format\":\"yyyy-MM-dd\",\"placeholder\":\"入库日期\"},model:{value:(_vm.provideForm.date),callback:function ($$v) {_vm.$set(_vm.provideForm, \"date\", $$v)},expression:\"provideForm.date\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"入库仓库：\",\"prop\":\"warehouse\"}},[_c('Select',{staticClass:\"zd-common-w150 zd-common-mr10\",attrs:{\"placeholder\":\"选择入库仓库\"},model:{value:(_vm.provideForm.warehouse),callback:function ($$v) {_vm.$set(_vm.provideForm, \"warehouse\", $$v)},expression:\"provideForm.warehouse\"}},_vm._l((_vm.warehouseArr),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"入库类型：\",\"prop\":\"type\"}},[_c('Select',{staticClass:\"zd-common-w150 zd-common-mr10\",attrs:{\"placeholder\":\"选择入库类型\"},model:{value:(_vm.provideForm.type),callback:function ($$v) {_vm.$set(_vm.provideForm, \"type\", $$v)},expression:\"provideForm.type\"}},_vm._l((_vm.typeArr),function(item){return _c('Option',{key:item.code,attrs:{\"value\":item.code}},[_vm._v(_vm._s(item.name))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"供应商：\",\"label-width\":60}},[_c('Select',{staticClass:\"zd-common-w150 zd-common-mr10\",attrs:{\"placeholder\":\"全部供应商\"},model:{value:(_vm.provideForm.supplier),callback:function ($$v) {_vm.$set(_vm.provideForm, \"supplier\", $$v)},expression:\"provideForm.supplier\"}},_vm._l((_vm.supplierArr),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"购买人：\",\"label-width\":60}},[_c('Select',{ref:\"purchaser\",staticClass:\"zd-common-input-h38 zd-common-w150 zd-common-fl zd-common-mr10\",attrs:{\"placeholder\":\"购买人\",\"filterable\":\"\",\"remote\":\"\",\"remote-method\":_vm.remoteMethod,\"loading\":_vm.loading},model:{value:(_vm.provideForm.purchaser),callback:function ($$v) {_vm.$set(_vm.provideForm, \"purchaser\", $$v)},expression:\"provideForm.purchaser\"}},_vm._l((_vm.leaderArr),function(option){return _c('Option',{key:option.id,attrs:{\"value\":option.id}},[_vm._v(_vm._s(option.name))])}),1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-black-b zd-common-pt5 zd-common-pb5 zd-common-pl20\"},[_c('Button',{staticClass:\"zd-common-mr10 zd-common-h32 zd-common-lh8\",attrs:{\"type\":\"default\"},on:{\"click\":_vm.addGoodsHandle}},[_vm._v(\"\\n      添加\\n    \")]),_vm._v(\" \"),_c('Button',{staticClass:\"zd-common-mr10 zd-common-h32 zd-common-lh8\",attrs:{\"type\":\"default\"},on:{\"click\":_vm.delRowHandle}},[_vm._v(\"\\n      删除\\n    \")]),_vm._v(\" \"),_c('Button',{staticClass:\"zd-common-mr10 zd-common-h32 zd-common-lh8\",attrs:{\"type\":\"default\"},on:{\"click\":_vm.importHandle}},[_vm._v(\"\\n      导入\\n    \")]),_vm._v(\" \"),_c('Input',{staticClass:\"zd-cm-w220 zd-common-input-h32\",attrs:{\"placeholder\":\"请输入物品编码，按Enter添加\",\"maxlength\":50},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getGoodsByCodeHandle($event)}},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1),_vm._v(\" \"),_c('Form',{ref:\"formGoodsData\",staticClass:\"zd-common-mt10\",attrs:{\"model\":_vm.formGoodsData}},[_c('Table',{staticClass:\"zd-common-overflow-v\",attrs:{\"border\":\"\",\"columns\":_vm.goodsCols,\"data\":_vm.formGoodsData.attrData,\"show-summary\":\"\",\"summary-method\":_vm.handleSummary,\"row-class-name\":_vm.rowClassName},on:{\"on-row-click\":_vm.clickRowHandle},scopedSlots:_vm._u([{key:\"number\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Form-item',{staticClass:\"zd-common-mt24\",attrs:{\"prop\":'attrData.' + index + '.number',\"rules\":{required: true, message:'不能为空', trigger:'change',type:'number'}}},[_c('InputNumber',{attrs:{\"max\":9999,\"min\":1,\"precision\":0,\"placeholder\":\"数量\"},on:{\"on-change\":function($event){return _vm.getCurrIndex(index)}},model:{value:(_vm.formGoodsData.attrData[index].number),callback:function ($$v) {_vm.$set(_vm.formGoodsData.attrData[index], \"number\", $$v)},expression:\"formGoodsData.attrData[index].number\"}})],1)]}},{key:\"price\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Dropdown',{attrs:{\"placement\":\"bottom-start\",\"trigger\":\"click\"},on:{\"on-click\":_vm.setHistoryPrice}},[_c('Form-item',{staticClass:\"zd-common-mt24\",attrs:{\"prop\":'attrData.' + index + '.price',\"rules\":{required: true, message:'不能为空', trigger:'change',type:'number'}}},[_c('InputNumber',{attrs:{\"min\":0.01,\"precision\":2,\"placeholder\":\"价格\"},on:{\"on-change\":function($event){return _vm.getCurrIndex(index)}},model:{value:(_vm.formGoodsData.attrData[index].price),callback:function ($$v) {_vm.$set(_vm.formGoodsData.attrData[index], \"price\", $$v)},expression:\"formGoodsData.attrData[index].price\"}})],1),_vm._v(\" \"),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},_vm._l((_vm.formGoodsData.attrData[index].priceList),function(item){return _c('DropdownItem',{key:item,attrs:{\"name\":item}},[_vm._v(_vm._s(item))])}),1)],1)]}},{key:\"amount\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Form-item',{staticClass:\"zd-common-mt24\"},[_c('InputNumber',{attrs:{\"min\":1,\"precision\":2,\"placeholder\":\"金额\"},model:{value:(_vm.formGoodsData.attrData[index].amount),callback:function ($$v) {_vm.$set(_vm.formGoodsData.attrData[index], \"amount\", $$v)},expression:\"formGoodsData.attrData[index].amount\"}})],1)]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-mt10 zd-common-clearFix\"},[_c('span',{staticClass:\"zd-common-fl\"},[_vm._v(\"制单人：\"+_vm._s(_vm.userName))]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-common-ml20\"},[_vm._v(\"制单日期：\"+_vm._s(_vm.date))])]),_vm._v(\" \"),_c('Form',{ref:\"provideRemarkForm\",staticClass:\"zd-common-mt20\",attrs:{\"model\":_vm.provideRemarkForm}},[_c('FormItem',{staticClass:\"zd-common-mb0\",attrs:{\"label\":\"备注：\"}},[_c('Input',{staticClass:\"zd-common-fl\",staticStyle:{\"width\":\"826px\"},attrs:{\"placeholder\":\"备注\",\"maxlength\":100,\"type\":\"textarea\",\"autosize\":{minRows: 5,maxRows: 5}},model:{value:(_vm.provideRemarkForm.remark),callback:function ($$v) {_vm.$set(_vm.provideRemarkForm, \"remark\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"provideRemarkForm.remark\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-modal-footer zd-common-pt30\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{staticClass:\"zd-common-mr35 zd-common-w100 zd-common-h32 zd-common-lh8\",attrs:{\"type\":\"primary\",\"loading\":_vm.saveLoading},on:{\"click\":_vm.handleSubmit}},[(!_vm.saveLoading)?_c('span',[_vm._v(\"确定\")]):_c('span',[_vm._v(\"正在保存...\")])]),_vm._v(\" \"),_c('Button',{staticClass:\"zd-common-w100 zd-common-h32 zd-common-lh8\",on:{\"click\":_vm.toPutIn}},[_vm._v(\"取消\")])],1),_vm._v(\" \"),_c('Modal',{attrs:{\"mask-closable\":false,\"width\":1200},model:{value:(_vm.addGoodsModal),callback:function ($$v) {_vm.addGoodsModal=$$v},expression:\"addGoodsModal\"}},[_c('h3',{staticClass:\"zd-common-modal-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"物品档案\")])]),_vm._v(\" \"),_c('add-goods',{ref:\"child\"}),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-modal-footer zd-common-pt10\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticClass:\"zd-common-modal-footer zd-common-pt10\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{staticClass:\"zd-common-mr35 zd-common-w100 zd-common-h32 zd-common-lh8\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveGoodsHandle}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('Button',{staticClass:\"zd-common-w100 zd-common-h32 zd-common-lh8\",on:{\"click\":function($event){_vm.addGoodsModal = false}}},[_vm._v(\"取消\")])],1)])],1),_vm._v(\" \"),_c('Modal',{attrs:{\"mask-closable\":false},model:{value:(_vm.importModal),callback:function ($$v) {_vm.importModal=$$v},expression:\"importModal\"}},[_c('h3',{staticClass:\"zd-common-modal-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"导入物品档案\")])]),_vm._v(\" \"),_c('Form',{ref:\"importForm\",attrs:{\"model\":_vm.importForm,\"rules\":_vm.ruleValidate,\"label-width\":100,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"label\":\"上传文件：\",\"prop\":\"fileName\"}},[_c('Upload',{ref:\"upload\",attrs:{\"action\":\"//\",\"accept\":\"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\"before-upload\":_vm.handleUpload}},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-cloud-upload-outline\"}},[_vm._v(\"选择文件\")])],1),_vm._v(\" \"),(_vm.importForm.file !== null)?_c('div',[_vm._v(\" \"+_vm._s(_vm.importForm.file.name)+\" \")]):_vm._e(),_vm._v(\" \"),_c('a',{attrs:{\"href\":_vm.serverPath+'/sr/storeroomData!downloadIntoTemplate.action'}},[_vm._v(\"下载模板\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.importForm.fileName),expression:\"importForm.fileName\"}],attrs:{\"type\":\"text\",\"hidden\":\"\"},domProps:{\"value\":(_vm.importForm.fileName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.importForm, \"fileName\", $event.target.value)}}})],1)],1),_vm._v(\" \"),_c('import-msg',{attrs:{\"importErrorMsg\":_vm.importErrorMsg}}),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-modal-footer zd-common-pt10\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{staticClass:\"zd-common-mr35 zd-common-w100 zd-common-h32 zd-common-lh8\",attrs:{\"type\":\"primary\",\"loading\":_vm.saveLoading},on:{\"click\":function($event){return _vm.importSubmit('importForm')}}},[(!_vm.saveLoading)?_c('span',[_vm._v(\"确定\")]):_c('span',[_vm._v(\"正在保存...\")])]),_vm._v(\" \"),_c('Button',{staticClass:\"zd-common-w100 zd-common-h32 zd-common-lh8\",on:{\"click\":function($event){_vm.importModal = false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-41f1a26f\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.4@vue-loader/lib/selector.js?type=template&index=0!./src/consumablesManage/views/consumablesManage/createPutInOrderByCheck.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}