{"version":3,"sources":["webpack:///src/consumablesManage/views/consumablesManage/goodsProvide.vue","webpack:///./src/consumablesManage/views/consumablesManage/goodsProvide.vue","webpack:///./src/consumablesManage/views/consumablesManage/goodsProvide.vue?f12d"],"names":["goodsProvide","data","_this","this","columns","type","align","title","width","key","render","h","params","row","status","props","ghost","style","height","padding","marginRight","on","click","showViewModal","id","showProvideModal","pageSize","pageNum","total","viewModal","viewCols","viewData","allDetail","msgList","warehouseArr","provideModal","provideId","ruleValidate","outOrder","required","message","trigger","date","warehouse","saveLoading","provideForm","remark","applyDepartArr","goodsCols","class","e","stopPropagation","showInventoryModal","index","currentInventory","slot","renderHeader","formGoodsData","attrData","goodsIds","provideRemark","delId","delIndex","goodsName","outNumber","inventoryModal","inventoryCols","inventoryData","tmpInventory","subInvArr","departArr","department","typeArr","statusArr","orderNO","applyArr","applyPerson","loading","selectLoading","created","_this2","getDepartmentBySchools","getApplyKindList","getApplyStatus","getApplyReceiveRecordPage","startDate","endDate","getChargedStoreRoom","then","response","methods","remoteMethod","name","_this3","selectLeader","res","_this4","BaseAxios","method","url","catch","error","postErrorTip","console","log","_this5","_this6","changeSelect","selection","_this7","allSelectArr","map","item","push","cancelSelect","_this8","i","splice","getApplyReceiveRecordProvideInfo","_this9","ids","aData","goodsList","code","classify","goodsKind","brand","model","size","unit","number","count","amount","applyId","applyReceiveGoodsId","getCurrIndex","validateInventory","rule","value","callback","curIndex","field","split","Error","handleSummary","_ref","sums","forEach","column","values","Number","every","isNaN","v","reduce","prev","curr","changeWarehouse","val","getInventoryByParam","join","goodsInfoIds","warehouseId","_this10","_loop","$set","inventory","getGoodsList","recordId","_this11","storeroomId","totalOutNumber","length","outNum","recordGoodsId","recordKind","num","price","unitPrice","surplusNum","_this12","isRequest","aArr","addGoodsIndex","addGoodsId","JSON","parse","stringify_default","arr","postWarningTip","handleInventorySummary","_ref2","cancelInventoryModal","$refs","resetFields","confirmInventoryModal","_this13","selArr","flag","totalOutNum","calcAmount","clickRowHandle","window","event","rowClassName","delRowHandle","handleSubmit","flag2","validate","valid","Date","getFullYear","fillZero","getMonth","getDate","saveApplyReceiveRecordProvide","provideRemarkForm","goodsArr","note","_this14","flag1","tmpItem","child","setTimeout","departmentId","kind","userId","_this15","list","applyNum","applyDepart","applyDate","applyType","kindName","userName","goodsNum","statusName","totalCount","changePage","changePageSize","selectHandle","mounted","calcWidth","__vue_styles__","context","__webpack_require__","Component","Object","component_normalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","maxlength","placeholder","$$v","expression","_v","clearable","_l","_s","ref","filterable","remote","remote-method","option","editable","border","row-class-name","current","page-size","show-sizer","show-elevator","show-total","on-change","on-page-size-change","mask-closable","rules","label-width","inline","label","prop","departmentName","show-summary","summary-method","on-row-click","scopedSlots","_u","fn","validator","max","min","precision","$event","staticStyle","autosize","minRows","maxRows","trim","closable","on-cancel","undefined","time","_e","deptCheckName","reason","deptOpinion","zwOpinion","__webpack_exports__"],"mappings":"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","file":"static/js/26.d4894e9d1c31032e32d8.js","sourcesContent":["<template>\n  <div class=\"zd-common-component\">\n    <div class=\"zd-common-clearFix\">\n     <!-- <Button type=\"primary\" class=\"zd-common-fl zd-common-pl11 zd-common-pr11 zd-common-mr10 zd-cm-res-fl\"\n              custom-icon=\"zd-common-icon-view\" @click=\"batchProvideModal=true\">\n        <span v-if=\"this.allSelectArr.length>0\">批量发放（{{ this.allSelectArr.length }}）</span>\n        <span v-else>批量发放</span>\n      </Button>-->\n      <div class=\"zd-common-fr zd-cm-res-fr\">\n        <Input v-model=\"orderNO\" :maxlength=\"50\" placeholder=\"申领单号\" class=\"zd-common-input-h38 zd-common-w150 zd-common-fl zd-common-mr10\"/>\n        <Select v-model=\"department\" placeholder=\"全部申领部门\"\n                class=\"zd-common-input-h38 zd-common-w200 zd-common-fl zd-common-mr10\" clearable>\n          <Option v-for=\"item in departArr\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\n        </Select>\n        <Select v-model=\"type\" placeholder=\"全部领用类型\"\n                class=\"zd-common-input-h38 zd-common-w150 zd-common-fl zd-common-mr10\" clearable>\n          <Option v-for=\"item in typeArr\" :value=\"item.code\" :key=\"item.code\">{{ item.name }}</Option>\n        </Select>\n        <Select v-model=\"status\" placeholder=\"全部审核状态\"\n                class=\"zd-common-input-h38 zd-common-w150 zd-common-fl zd-common-mr10\" clearable>\n          <Option v-for=\"item in statusArr\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n        </Select>\n        <Select\n          ref=\"leader\"\n          class=\"zd-common-input-h38 zd-common-w150 zd-common-fl zd-common-mr10\"\n          placeholder=\"申领人\"\n          v-model=\"applyPerson\"\n          filterable\n          remote\n          :remote-method=\"remoteMethod\"\n          :loading=\"loading\">\n          <Option v-for=\"option in applyArr\" :value=\"option.id\" :key=\"option.id\">{{option.name}}</Option>\n        </Select>\n        <DatePicker v-model=\"date\" :editable=\"false\" type=\"date\" placeholder=\"日期\" class=\"zd-common-input-h38 zd-common-w150 zd-common-fl zd-common-mr10\"></DatePicker>\n        <Button type=\"primary\" class=\"zd-common-fl\" @click=\"selectHandle\" :loading=\"selectLoading\">\n          <span v-if=\"!selectLoading\">查询</span>\n          <span v-else>正在查询...</span>\n        </Button>\n      </div>\n    </div>\n    <div class=\"zd-common-mt16\">\n      <Table border :columns=\"columns\" :data=\"data\" :row-class-name=\"rowClassName\"></Table>\n      <div class=\"zd-common-tc zd-common-mt20\">\n        <Page :total=\"total\" :current=\"pageNum\" :page-size=\"pageSize\" @on-change=\"changePage\" @on-page-size-change=\"changePageSize\" show-sizer show-elevator show-total></Page>\n      </div>\n    </div>\n    <!--物品发放-->\n    <Modal v-model=\"provideModal\" :mask-closable=\"false\" :width=\"1200\">\n      <h3 slot=\"header\" class=\"zd-common-modal-header\">\n        <span>物品发放</span>\n      </h3>\n      <div class=\"zd-common-h400\">\n        <vue-scroll>\n          <div class=\"zd-common-pr20\">\n            <Form class=\"zd-cm-applyForm\" ref=\"provideForm\" :model=\"provideForm\" :rules=\"ruleValidate\" :label-width=\"85\" inline>\n              <FormItem label=\"出库日期：\" prop=\"date\">\n                <DatePicker v-model=\"provideForm.date\" :editable=\"false\" type=\"date\" placeholder=\"出库日期\" class=\"zd-common-w150 zd-common-mr10\"></DatePicker>\n              </FormItem>\n              <FormItem label=\"出库仓库：\" prop=\"warehouse\">\n                <Select v-model=\"provideForm.warehouse\" clearable placeholder=\"选择出库仓库\" class=\"zd-common-w200\" @on-change=\"changeWarehouse\">\n                  <Option v-for=\"item in warehouseArr\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\n                </Select>\n              </FormItem>\n            </Form>\n            <div class=\"zd-common-clearFix\">\n              <span class=\"zd-common-fl zd-common-mr14\">出库单号：<span class=\"zd-common-font-weight\">{{ allDetail.num }}</span></span>\n              <span class=\"zd-common-fl zd-common-mr14\">出库类型：<span class=\"zd-common-font-weight\">{{ allDetail.kindName }}</span> </span>\n              <span class=\"zd-common-fl zd-common-mr14\">部门：<span class=\"zd-common-font-weight\">{{ allDetail.departmentName }}</span> </span>\n              <span class=\"zd-common-fl zd-common-mr14\">领用人：<span class=\"zd-common-font-weight\">{{ allDetail.userName }}</span> </span>\n            </div>\n            <div class=\"zd-common-black-b zd-common-pt5 zd-common-pb5 zd-common-pl20 zd-common-mt5\">\n              <Button type=\"default\" class=\"zd-common-mr10 zd-common-h32 zd-common-lh8\" @click=\"delRowHandle\">\n                删除\n              </Button>\n            </div>\n            <Form ref=\"formGoodsData\" :model=\"formGoodsData\" class=\"zd-common-mt10\">\n              <Table border :columns=\"goodsCols\" :data=\"formGoodsData.attrData\" show-summary :summary-method=\"handleSummary\" :row-class-name=\"rowClassName\" @on-row-click=\"clickRowHandle\">\n                <template slot-scope=\"{ row,index }\" slot=\"number\">\n                  <Form-item class=\"zd-common-mt24\" :prop=\"'attrData.' + index + '.number'\"\n                             :rules=\"{required: true, type:'number', validator:validateInventory, trigger:'blur'}\">\n                    <InputNumber :max=\"formGoodsData.attrData[index].currentInventory\" :min=\"1\" :precision='0' placeholder=\"数量\" v-model=\"formGoodsData.attrData[index].number\" @on-change=\"getCurrIndex(index)\" class=\"zd-common-wp100\"/>\n                  </Form-item>\n                </template>\n              </Table>\n            </Form>\n            <div class=\"zd-common-mt10 zd-common-clearFix\">\n              <span class=\"zd-common-fl\">申领人：{{ allDetail.userName }}</span>\n              <span class=\"zd-common-fl zd-common-ml20\">申领日期：{{ allDetail.date }}</span>\n            </div>\n            <Form class=\"zd-common-mt20\" ref=\"provideRemark\" :model=\"provideRemark\">\n              <FormItem label=\"备注：\" class=\"zd-common-mb0\">\n                <Input style=\"width: 826px;\" class=\"zd-common-fl\" v-model.trim=\"provideRemark.remark\" placeholder=\"备注\" :maxlength=\"100\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\"></Input>\n              </FormItem>\n            </Form>\n          </div>\n        </vue-scroll>\n      </div>\n      <div slot=\"footer\" class=\"zd-common-modal-footer zd-common-pt10\">\n        <Button type=\"primary\" class=\"zd-common-mr35 zd-common-w100 zd-common-h32 zd-common-lh8\" @click=\"handleSubmit\"\n                :loading=\"saveLoading\">\n          <span v-if=\"!saveLoading\">确定</span>\n          <span v-else>正在保存...</span>\n        </Button>\n        <Button @click=\"provideModal = false\" class=\"zd-common-w100 zd-common-h32 zd-common-lh8\">取消</Button>\n      </div>\n    </Modal>\n    <!--库存-->\n    <Modal v-model=\"inventoryModal\" :mask-closable=\"false\" :width=\"920\" @on-cancel=\"cancelInventoryModal\" :closable=\"false\">\n      <h3 slot=\"header\" class=\"zd-common-modal-header\">\n        <span>{{ goodsName }}</span>\n        <i class=\"zd-common-fs12 zd-common-font-style zd-common-des-font-c zd-common-fr\">系统默认按照先入先出的原则自动分配出库数量</i>\n      </h3>\n      <div class=\"zd-common-h400\">\n        <vue-scroll>\n          <Form ref=\"inventoryData\" :model=\"inventoryData\">\n            <Table class=\"zd-common-overflow-v zd-cm-out-table\" border :columns=\"inventoryCols\" :data=\"inventoryData.attrData\" show-summary :summary-method=\"handleInventorySummary\">\n              <template slot-scope=\"{ row,index }\" slot=\"outNum\" v-if=\"inventoryData.attrData[index].surplusNum>0\">\n                <Form-item class=\"zd-common-mt24\">\n                  <InputNumber :max=\"inventoryData.attrData[index].surplusNum\" :min=\"1\" :precision='0' placeholder=\"数量\" v-model=\"inventoryData.attrData[index].outNum\" @on-change=\"calcAmount(index)\"/>\n                </Form-item>\n              </template>\n              <template slot-scope=\"{ row,index }\" slot=\"outNum\" v-else>\n                <Form-item class=\"zd-common-mt24\">\n                  <InputNumber v-model=\"inventoryData.attrData[index].outNum\" readonly/>\n                </Form-item>\n              </template>\n              <template slot-scope=\"{ row,index }\" slot=\"amount\">\n                {{ inventoryData.attrData[index].amount }}\n              </template>\n            </Table>\n          </Form>\n        </vue-scroll>\n      </div>\n      <div slot=\"footer\" class=\"zd-common-modal-footer zd-common-pt10\">\n        <Button type=\"primary\" class=\"zd-common-mr35 zd-common-w100 zd-common-h32 zd-common-lh8\" @click=\"confirmInventoryModal\">确定</Button>\n        <Button @click=\"cancelInventoryModal\" class=\"zd-common-w100 zd-common-h32 zd-common-lh8\">取消</Button>\n      </div>\n    </Modal>\n    <!--查看-->\n    <Modal v-model=\"viewModal\" :mask-closable=\"false\" :width=\"920\">\n      <h3 slot=\"header\" class=\"zd-common-modal-header\">\n        <span>查看申领单</span>\n      </h3>\n      <div class=\"zd-common-h400\">\n        <vue-scroll>\n          <div class=\"zd-common-pr20\">\n            <div v-if=\"msgList.length>0\" class=\"zd-common-h100 zd-common-border-radius6 zd-cm-process zd-common-mb20\">\n              <vue-scroll>\n                <div class=\"zd-cm-step zd-common-clearFix\">\n                  <template v-for=\"(item,index) in msgList\">\n                    <div class=\"zd-cur-step zd-common-fl zd-common-ml20 zd-common-mt29\">\n                      <p>{{ item.time }}</p>\n                      <p>{{ item.userName }}：{{ item.status }}</p>\n                    </div>\n                    <div v-if=\"index !== msgList.length - 1\"\n                         class=\"zd-cur-step zd-common-fl zd-common-ml20 zd-common-lh100\">\n                      <Icon type=\"ios-arrow-forward\"/>\n                    </div>\n                  </template>\n                </div>\n              </vue-scroll>\n            </div>\n            <div class=\"zd-common-clearFix\">\n              <span class=\"zd-common-fl zd-common-mr14\">申领单号：<span class=\"zd-common-font-weight\">{{ allDetail.num }}</span></span>\n              <span class=\"zd-common-fl zd-common-mr14\">申领日期：<span class=\"zd-common-font-weight\">{{ allDetail.date }}</span> </span>\n              <span class=\"zd-common-fl zd-common-mr14\">申领人：<span class=\"zd-common-font-weight\">{{ allDetail.userName }}</span> </span>\n              <span class=\"zd-common-fl zd-common-mr14\">申领部门：<span class=\"zd-common-font-weight\">{{ allDetail.departmentName }}</span> </span>\n              <span v-if=\"allDetail.deptCheckName\" class=\"zd-common-fl zd-common-mr14\">部门审核人：<span class=\"zd-common-font-weight\">{{\n                      allDetail.deptCheckName }}</span></span>\n              <span class=\"zd-common-fl zd-common-mr14\">领用类型：<span class=\"zd-common-font-weight\">{{ allDetail.kindName }}</span></span>\n            </div>\n            <Table class=\"zd-common-mt10\" border :columns=\"viewCols\" :data=\"viewData\" show-summary></Table>\n            <div class=\"zd-common-mt10 zd-common-clearFix\">\n                      <span class=\"zd-common-clearFix\">\n                        <span class=\"zd-common-fl\">申领原因：</span>\n                        <span class=\"zd-common-fl zd-cm-applyReason\">{{ allDetail.reason }}</span>\n                      </span>\n            </div>\n            <div class=\"zd-common-mt10 zd-common-clearFix\">\n                      <span class=\"zd-common-clearFix\">\n                        <span class=\"zd-common-fl\">部门审核意见：</span>\n                        <span class=\"zd-common-fl zd-cm-applyReason\">{{ allDetail.deptOpinion }}</span>\n                      </span>\n            </div>\n            <div class=\"zd-common-mt10 zd-common-clearFix\">\n                      <span class=\"zd-common-clearFix\">\n                        <span class=\"zd-common-fl\">总务审核意见：</span>\n                        <span class=\"zd-common-fl zd-cm-applyReason\">{{ allDetail.zwOpinion }}</span>\n                      </span>\n            </div>\n          </div>\n        </vue-scroll>\n      </div>\n      <div slot=\"footer\" class=\"zd-common-modal-footer no-print\">\n        <Button @click=\"viewModal = false\" class=\"zd-common-w100 zd-common-h32 zd-common-lh8\">取消</Button>\n      </div>\n    </Modal>\n  </div>\n</template>\n<script>\n  import { utils } from '@comm/script/utils/index'\n  export default {\n    data() {\n      return {\n        //列表\n        columns: [\n          {\n            type: 'index',\n            align: 'center',\n            title: '序号',\n            width:65\n          },\n          {\n            title: '申领单号',\n            align: 'center',\n            key: 'applyNum'\n          },\n          {\n            title: '申领部门',\n            align: 'center',\n            key: 'applyDepart',\n          },\n          {\n            title: '申领日期',\n            align: 'center',\n            key: 'applyDate',\n          },\n          {\n            title: '申领类型',\n            align: 'center',\n            key: 'applyType',\n          },\n          {\n            title: '申领数量',\n            align: 'center',\n            key: 'goodsNum',\n          },\n          {\n            title: '申请人',\n            align: 'center',\n            key: 'applyPerson',\n          },\n          {\n            title: '状态',\n            align: 'center',\n            key: 'status',\n          },\n          {\n            title: '操作',\n            align: 'center',\n            key: 'action',\n            width:160,\n            render: (h, params) => {\n              if(params.row.status === '未发放'){\n                return h('div', [\n                  h('Button', {\n                    props:{\n                      type:'primary',\n                      ghost:true,\n                    },\n                    style: {\n                      height: \"28px\",\n                      padding:'0 15px 1px',\n                      marginRight:'10px'\n                    },\n                    on: {\n                      click: () => {\n                        this.showViewModal(params.row.id);\n                      }\n                    }\n                  }, '查看'),\n                  h('Button', {\n                    props:{\n                      type:'primary',\n                      ghost:true,\n                    },\n                    style: {\n                      height: \"28px\",\n                      padding:'0 15px 1px'\n                    },\n                    on: {\n                      click: () => {\n                        this.showProvideModal(params.row.id);\n                      }\n                    }\n                  }, '发放')\n                ]);\n              }else{\n                return h('div', [\n                  h('Button', {\n                    props:{\n                      type:'primary',\n                      ghost:true,\n                    },\n                    style: {\n                      height: \"28px\",\n                      padding:'0 15px 1px'\n                    },\n                    on: {\n                      click: () => {\n                        this.showViewModal(params.row.id);\n                      }\n                    }\n                  }, '查看')\n                ]);\n              }\n            }\n          }\n        ],\n        data: [],\n        pageSize:10,\n        pageNum:1,\n        total:0,\n\n        //查看\n        viewModal:false,\n        viewCols:[\n          {\n            type: 'index',\n            title:'序号',\n            align: 'center',\n            width:70\n          },\n          {\n            title: '物品名称',\n            align: 'center',\n            key: 'name',\n          },\n          {\n            title: '物品编码',\n            align: 'center',\n            key: 'code',\n          },\n          {\n            title: '物品分类',\n            align: 'center',\n            key: 'classify',\n          },\n          {\n            title: '品牌',\n            align: 'center',\n            key: 'brand',\n          },\n          {\n            title: '规格/型号',\n            align: 'center',\n            key: 'model',\n          },\n          {\n            title: '单位',\n            align: 'center',\n            key: 'unit',\n          },\n          {\n            title: '数量',\n            align: 'center',\n            key: 'number'\n          },\n        ],\n        viewData:[],\n        allDetail:[],\n        msgList:[],\n\n        //物品发放\n        warehouseArr:[],\n        provideModal:false,\n        provideId:'',\n        ruleValidate: {\n          outOrder: [\n            { required: true, message:'不能为空', trigger: 'blur' }\n          ],\n          date: [\n            { required: true, type:'date', message:'不能为空', trigger: 'change' }\n          ],\n          warehouse: [\n            { required: true, message:'不能为空', trigger: 'change' }\n          ]\n        },\n        saveLoading:false,\n        provideForm:{\n          outOrder:'',\n          date:'',\n          warehouse:'',\n          remark:''\n        },\n        applyDepartArr:[],\n        goodsCols:[\n          {\n            type: 'index',\n            title:'序号',\n            align: 'center',\n            width:65,\n            key:'sortNum'\n          },\n          {\n            title: '物品名称',\n            align: 'center',\n            key: 'name',\n          },\n          {\n            title: '物品编码',\n            align: 'center',\n            key: 'code',\n          },\n          {\n            title: '物品分类',\n            align: 'center',\n            key: 'classify',\n          },\n          {\n            title: '品牌',\n            align: 'center',\n            key: 'brand',\n          },\n          {\n            title: '规格/型号',\n            align: 'center',\n            key: 'model',\n          },\n          {\n            title: '单位',\n            align: 'center',\n            key: 'unit',\n          },\n          {\n            title: '当前库存',\n            align: 'center',\n            key: 'currentInventory',\n            render:(h,params)=>{\n              return h('div',[\n                h('span', {\n                  class:'zd-common-primary-c zd-common-cp',\n                  on:{\n                    click:(e)=>{\n                      e.stopPropagation();\n                      this.showInventoryModal(params.index);\n                    }\n                  }\n                },params.row.currentInventory),\n              ])\n            }\n          },\n          {\n            title: '数量',\n            align: 'center',\n            slot: 'number',\n            key: 'number',\n            renderHeader:(h,params)=>{\n              return h('div',[\n                h('span', {\n                  class:'zd-cm-required'\n                },'数量'),\n              ])\n            }\n          },\n          {\n            title: '金额',\n            align: 'center',\n            key: 'amount',\n          }\n        ],\n        formGoodsData:{\n          attrData:[]\n        },\n        goodsIds:'',\n        provideRemark:{\n          remark:''\n        },\n        delId:'',\n        delIndex:'',\n\n        //库存\n        goodsName:'',\n        outNumber:null,\n        inventoryModal:false,\n        inventoryCols:[\n          {\n            type: 'index',\n            title:'序号',\n            align: 'center',\n            width:65,\n            key:'sortNum'\n          },\n          {\n            title: '入库日期',\n            align: 'center',\n            key: 'date',\n          },\n          {\n            title: '入库单号',\n            align: 'center',\n            key: 'orderNO',\n            width:140\n          },\n          {\n            title: '入库价格',\n            align: 'center',\n            key: 'price',\n          },\n          {\n            title: '剩余数量',\n            align: 'center',\n            key: 'surplusNum',\n          },\n          {\n            title: '本次出库数量',\n            align: 'center',\n            slot: 'outNum',\n            key: 'outNum',\n          },\n          {\n            title: '金额',\n            align: 'center',\n            slot: 'amount',\n            key: 'amount',\n          }\n        ],\n        inventoryData:{\n          attrData:[]\n        },\n        tmpInventory:[],\n        subInvArr:[],\n\n        //查询\n        departArr:[],\n        department:'',\n        typeArr:[],\n        type:'',\n        statusArr:[],\n        status:'',\n        orderNO:'',\n        applyArr:[],\n        applyPerson:'',\n        loading:false,\n        date:'',\n        selectLoading:false,\n      }\n    },\n    created(){\n      this.getDepartmentBySchools();\n      this.getApplyKindList();\n      this.getApplyStatus();\n      this.getApplyReceiveRecordPage(this.pageNum,this.pageSize,this.startDate,this.endDate,this.department,this.type,this.status,this.orderNO,this.applyPerson);\n      this.getChargedStoreRoom().then((response)=>{\n        this.warehouseArr = response.data;\n      });\n    },\n    methods: {\n      //选择领用人\n      remoteMethod(name){\n        this.selectLeader(name).then((res)=>{\n          this.applyArr = res.data;\n        })\n      },\n      //获取自己学校数据范围内的组织\n      getDepartmentBySchools() {\n        BaseAxios({\n          method: 'post',\n          url: '/sr/storeroomData!getDepartmentBySchools.action?operationCode=sr_warehouseManage',\n          data:{},\n        })\n          .then((response) => {\n            this.departArr = response.data;\n          })\n          .catch((error) => {\n            this.postErrorTip('请求失败');\n            console.log(error);\n          });\n      },\n      //获取类型\n      getApplyKindList() {\n        BaseAxios({\n          method: 'post',\n          url: '/sr/storeroomData!getApplyKindList.action',\n          data:{},\n        })\n          .then((response) => {\n            this.typeArr = response.data;\n          })\n          .catch((error) => {\n            this.postErrorTip('请求失败');\n            console.log(error);\n          });\n      },\n      //获取状态\n      getApplyStatus(){\n        BaseAxios({\n          method: 'post',\n          url: '/sr/storeroomData!getApplyStatus.action',\n          data:{},\n        })\n        .then((response) => {\n          let aData = response.data;\n          this.statusArr = response.data;\n        })\n        .catch((error) => {\n          this.postErrorTip('请求失败');\n          console.log(error);\n        });\n      },\n      //多选\n      changeSelect(selection) {\n        this.allSelectArr = [];\n        selection.map((item)=>{\n          this.allSelectArr.push(item.id);\n        });\n      },\n      cancelSelect(selection, row) {\n        this.allSelectArr.map((item,i)=>{\n          if(item.id === row.id){\n            this.allSelectArr.splice(i,1);\n          }\n        });\n      },\n      //查看\n      showViewModal(id){\n        this.viewModal = true;\n        this.getApplyReceiveRecordProvideInfo(id);\n      },\n      getApplyReceiveRecordProvideInfo(id) {\n        this.viewData = [];\n        this.formGoodsData.attrData = [];\n        this.goodsIds = [];\n        BaseAxios({\n          method: 'post',\n          url: '/sr/storeroomData!getApplyReceiveRecordProvideInfo.action',\n          data:{\n            ids:id\n          },\n        })\n          .then((response) => {\n            let aData = response.data[0];\n            //详情\n            this.allDetail = aData;\n            this.msgList = aData.msgList;\n            aData.goodsList.map((item)=>{\n              //查看\n              this.viewData.push(\n                {\n                  name:item.name,\n                  code:item.code,\n                  classify:item.goodsKind,\n                  brand:item.brand,\n                  model:item.size,\n                  unit:item.unit,\n                  number:item.count,\n                  id:item.id\n                }\n              )\n              //发放\n              this.formGoodsData.attrData.push(\n                {\n                  id:item.id,\n                  name:item.name,\n                  code:item.code,\n                  classify:item.goodsKind,\n                  brand:item.brand,\n                  model:item.size,\n                  unit:item.unit,\n                  number:item.count,\n                  currentInventory:null,\n                  amount:null,\n                  applyId:item.applyReceiveGoodsId\n                }\n              )\n              this.goodsIds.push(item.id);\n            });\n          })\n          .catch((error) => {\n            this.postErrorTip('请求失败');\n            console.log(error);\n          });\n      },\n\n      //物品发放\n      showProvideModal(id){\n        this.provideModal = true;\n        this.getApplyReceiveRecordProvideInfo(id);\n      },\n      getCurrIndex(index){\n\n      },\n      //验证库存是否足够\n      validateInventory(rule, value, callback){\n        let curIndex = rule.field.split('.')[1];\n        if(value > this.formGoodsData.attrData[curIndex].currentInventory || this.formGoodsData.attrData[curIndex].currentInventory === null){\n            callback(new Error('库存不足'));\n        }else{\n          callback();\n        }\n      },\n      //合计\n      handleSummary ({ columns, data }) {\n        const sums = {};\n        columns.forEach((column, index) => {\n          const key = column.key;\n          if (index === 0) {\n            sums[key] = {\n              key,\n              value: '合计'\n            };\n            return;\n          }\n          const values = data.map(item => Number(item[key]));\n          if (!values.every(value => isNaN(value)) && (index === 8 || index === 9)) {\n            const v = values.reduce((prev, curr) => {\n              const value = Number(curr);\n              if (!isNaN(value)) {\n                return prev + curr;\n              } else {\n                return prev;\n              }\n            }, 0);\n            sums[key] = {\n              key,\n              value: v\n            };\n          } else {\n            sums[key] = {\n              key,\n              value: ''\n            };\n          }\n        });\n\n        return sums;\n      },\n\n      //根据物品仓库获取库存\n      changeWarehouse(val){\n        this.getInventoryByParam(this.goodsIds.join(','),val);\n      },\n      getInventoryByParam(goodsInfoIds,warehouseId) {\n        BaseAxios({\n          method: 'post',\n          url: '/sr/storeroomData!getInventoryByParam.action',\n          data:{\n            goodsInfoIds:goodsInfoIds,\n            warehouseId:warehouseId\n          },\n        })\n          .then((response) => {\n            let aData = response.data;\n            for (let key in aData){\n              this.formGoodsData.attrData.map((item)=>{\n                if(item.id === key){\n                  this.$set(item,'currentInventory',aData[key].inventory);\n                }\n              })\n            }\n          })\n          .catch((error) => {\n            this.postErrorTip('请求失败');\n            console.log(error);\n          });\n      },\n\n      //根据申领单id仓库id获取库存\n      getGoodsList(recordId,warehouseId) {\n          BaseAxios({\n            method:'post',\n            url:'/sr/storeroomData!getInventoryInfoByApplyReceiveRecordIdAndStoreroomId.action',\n            data:{\n              recordId:recordId,\n              storeroomId:warehouseId\n            }\n          })\n          .then((response) => {\n            this.inventoryData.attrData = [];\n            let aData = response.data;\n            if(this.outNumber !== null){\n              let totalOutNumber = this.outNumber;\n              for (let i = 0; i < aData.length; i++) {\n                let outNum = null;\n                let item = aData[i];\n                if(item.inventory>=totalOutNumber){\n                  outNum = totalOutNumber;\n                  totalOutNumber = 0;\n                }else{\n                  outNum = item.inventory;\n                  totalOutNumber -= item.inventory;\n                }\n                this.inventoryData.attrData.push({\n                  id:item.recordGoodsId,\n                  recordKind:item.recordKind,\n                  date:item.date,\n                  orderNO:item.num,\n                  price:item.unitPrice,\n                  surplusNum:item.inventory,\n                  outNum:outNum === 0 ? null : outNum,\n                  amount:(outNum !== 0 && outNum !== null) ? (item.unitPrice*outNum) : null\n                })\n              }\n            }else{\n              aData.map((item)=>{\n                this.inventoryData.attrData.push(\n                  {\n                    id:item.recordGoodsId,\n                    recordKind:item.recordKind,\n                    date:item.date,\n                    orderNO:item.num,\n                    price:item.unitPrice,\n                    surplusNum:item.inventory,\n                    outNum:item.outNum === 0 ? null : item.outNum,\n                    amount:null\n                  }\n                )\n              })\n            }\n          })\n            .catch((error)=>{\n              this.postErrorTip('请求失败');\n              console.log(error);\n          })\n      },\n      //显示库存\n      showInventoryModal(index){\n        if(this.provideForm.warehouse !== ''){\n          let isRequest = false;\n          let aArr = [];\n          this.addGoodsIndex = index;\n          this.inventoryModal = true;\n          this.addGoodsId = this.formGoodsData.attrData[index].id;\n          this.goodsName = this.formGoodsData.attrData[index].name;\n          this.outNumber = this.formGoodsData.attrData[index].number;\n\n          if(this.outNumber === null){\n            this.tmpInventory.map((item,index)=>{\n              if(item.id === this.addGoodsId){\n                this.tmpInventory.splice(index,1);\n              }\n            })\n          }else{\n            let item = JSON.parse(JSON.stringify(this.tmpInventory));\n            for (let i = 0; i < item.length; i++) {\n              if(item[i].id === this.addGoodsId){\n                isRequest = true;\n                aArr = item[i].arr;\n                break;\n              }\n            }\n          }\n          if(isRequest){\n            this.inventoryData.attrData = aArr;\n          }else{\n            this.getGoodsList(this.formGoodsData.attrData[index].applyId,this.provideForm.warehouse);\n          }\n        }else{\n          this.postWarningTip('请选择出库仓库');\n        }\n      },\n      //显示库存列表合计\n      handleInventorySummary({ columns, data }) {\n        const sums = {};\n        columns.forEach((column, index) => {\n          const key = column.key;\n          if (index === 0) {\n            sums[key] = {\n              key,\n              value: '合计'\n            };\n            return;\n          }\n\n          const values = data.map(item => Number(item[key]));\n          if (!values.every((value) => isNaN(value)) && (index===4 || index===5 || index===6)) {\n            const v = values.reduce((prev, curr) => {\n              const value = Number(curr);\n              if (!isNaN(value)) {\n                return prev + curr;\n              } else {\n                return prev;\n              }\n            }, 0);\n            sums[key] = {\n              key,\n              value: v\n            };\n          } else {\n            sums[key] = {\n              key,\n              value: ''\n            };\n          }\n        });\n        return sums;\n      },\n      //隐藏库存列表\n      cancelInventoryModal(){\n        this.inventoryModal = false;\n        this.$refs['inventoryData'].resetFields();\n      },\n      //重新选择库存数量\n      confirmInventoryModal(){\n        let selArr = this.inventoryData.attrData;\n        let flag = false;\n        for (let i = 0; i < selArr.length; i++) {\n          if(selArr[i].outNum !== null){\n            flag = true;\n            break;\n          }\n        }\n        if(flag){\n          this.tmpInventory.map((item,index)=>{\n            if (item.id === this.addGoodsId){\n              this.tmpInventory.splice(index,1);\n            }\n          });\n          this.tmpInventory.push({'id':this.addGoodsId,'arr':selArr});\n          let totalOutNum = null;\n          selArr.map((item)=>{\n            totalOutNum += item.outNum;\n          });\n          this.formGoodsData.attrData[this.addGoodsIndex].number = totalOutNum;\n          //this.$refs['formGoodsData'].validate();\n        }else{\n          this.formGoodsData.attrData[this.addGoodsIndex].number = null;\n          this.tmpInventory.map((item,index)=>{\n            if(item.id === this.addGoodsId){\n              this.tmpInventory.splice(index,1);\n            }\n          })\n        }\n        this.getCurrIndex(this.addGoodsIndex);\n        this.inventoryModal = false;\n      },\n      //计算库存总金额\n      calcAmount(index){\n        this.inventoryData.attrData[index].amount = this.inventoryData.attrData[index].price*this.inventoryData.attrData[index].outNum;\n      },\n\n      //删除添加的物品\n      clickRowHandle(row,index){\n        window.event.stopPropagation();\n        if(this.delId === row.id){\n          this.delId = \"\";\n          this.delIndex = \"\";\n        }else{\n          this.delId = row.id;\n          this.delIndex = index;\n        }\n      },\n      rowClassName(row, index) {\n        if (this.delId === row.id) {\n          return 'demo-table-info-row';\n        }\n        return '';\n      },\n      delRowHandle(){\n        if(this.delIndex === \"\"){\n          return this.postWarningTip('请选择删除的物品');\n        }else{\n          if(this.formGoodsData.attrData.length <= 1){\n            return this.postWarningTip('至少保留一个物品');\n          }\n          this.formGoodsData.attrData.splice(this.delIndex,1);\n        }\n      },\n\n      //保存验证\n      handleSubmit(){\n        let flag = false,flag2 = false;\n        this.$refs['provideForm'].validate((valid) => {\n          if (valid) {\n            flag = true;\n          }\n        });\n        this.$refs['formGoodsData'].validate((valid) => {\n          if(valid){\n            flag2 = true;\n          }\n        });\n        if(flag && flag2){\n          this.saveLoading = true;\n          const e = new Date(this.provideForm.date);\n          const date = e.getFullYear() +\"-\"+ this.fillZero((e.getMonth()+1)) +\"-\"+ this.fillZero(e.getDate());\n          this.saveApplyReceiveRecordProvide(date,this.provideForm.warehouse,this.provideId,this.provideRemarkForm.remark,this.formGoodsData.attrData);\n        }\n      },\n\n      //保存\n      saveApplyReceiveRecordProvide(date,warehouse,provideId,goodsArr,note) {\n        let flag1 = true,flag2=true;\n        let params = {};\n        this.subInvArr = [];\n        params['applyReceiveRecordProvideVOs.date'] = date;\n        params['applyReceiveRecordProvideVOs.storeroomId'] = warehouse;\n        params['applyReceiveRecordProvideVOs.recordId'] = provideId;\n        params['applyReceiveRecordProvideVOs.note'] = note;\n\n        if(this.tmpInventory.length>0){\n          flag1 = false;\n          this.tmpInventory.map((tmpItem)=>{\n            goodsArr.map((item,index)=> {\n              if (item.id === tmpItem.id) {\n                tmpItem.arr.map((child) => {\n                  if(child.outNum !== null) {\n                    this.subInvArr.push({\n                      id: child.id,\n                      recordKind: child.recordKind,\n                      outNum: child.outNum\n                    });\n                  }\n                })\n              }else{\n                this.getGoodsList(item.id,this.provideForm.warehouse).then((response)=>{\n                  let aData = response.data;\n                  if(item.number !== null){\n                    let totalOutNumber = item.number;\n                    aData.map((item)=>{\n                      let outNum = null;\n                      if(item.inventory>=totalOutNumber){\n                        outNum = totalOutNumber;\n                        totalOutNumber = 0;\n                      }else{\n                        outNum = item.inventory;\n                        totalOutNumber -= item.inventory;\n                      }\n                      this.subInvArr.push({\n                        id:item.recordGoodsId,\n                        recordKind:item.recordKind,\n                        outNum:outNum === 0 ? null : outNum\n                      })\n                    })\n                  }\n                  this.subInvArr.map((item,i)=>{\n                    if(item.outNum!==null){\n                      params['outGoodsVOs['+i+'].recordGoodsId'] = item.id;\n                      params['outGoodsVOs['+i+'].count'] = item.outNum;\n                      params['outGoodsVOs['+i+'].recordKind'] = item.recordKind;\n                    }\n                  });\n\n                })\n              }\n              if(index === (goodsArr.length -1)){\n                flag1 = true;\n              }\n            })\n          })\n        }else{\n          flag2 = false;\n          goodsArr.map((item,index)=>{\n            this.getGoodsList(item.id,this.provideForm.warehouse).then((response)=>{\n              let aData = response.data;\n              if(item.number !== null){\n                let totalOutNumber = item.number;\n                aData.map((item)=>{\n                  let outNum = null;\n                  if(item.inventory>=totalOutNumber){\n                    outNum = totalOutNumber;\n                    totalOutNumber = 0;\n                  }else{\n                    outNum = item.inventory;\n                    totalOutNumber -= item.inventory;\n                  }\n                  this.subInvArr.push({\n                    id:item.recordGoodsId,\n                    recordKind:item.recordKind,\n                    outNum:outNum === 0 ? null : outNum\n                  })\n                })\n              }\n              this.subInvArr.map((item,i)=>{\n                if(item.outNum!==null){\n                  params['outGoodsVOs['+i+'].recordGoodsId'] = item.id;\n                  params['outGoodsVOs['+i+'].count'] = item.outNum;\n                  params['outGoodsVOs['+i+'].recordKind'] = item.recordKind;\n                }\n              });\n            })\n            if(index === (goodsArr.length -1)){\n              flag2 = true;\n            }\n          });\n        }\n        if(flag1 && flag2){\n          setTimeout(()=>{\n            BaseAxios({\n              method: 'post',\n              url: '/sr/storeroomData!saveApplyReceiveRecordProvide.action',\n              data:params,\n            })\n              .then((response) => {\n                this.saveLoading = false;\n                this.provideModal = false;\n              })\n              .catch((error) => {\n                this.saveLoading = false;\n                this.provideModal = false;\n                this.postErrorTip('请求失败');\n                console.log(error);\n              });\n          },500)\n        }\n\n      },\n\n      //列表\n      getApplyReceiveRecordPage(pageNum,pageSize,startDate,endDate,departmentId,kind,status,num,userId) {\n        this.data = [];\n        BaseAxios({\n          method: 'post',\n          url: '/sr/storeroomData!getApplyReceiveRecordProvidePage.action?operationCode=sr_warehouseManage',\n          data:{\n            pageNum:pageNum,\n            pageSize:pageSize,\n            startDate:startDate,\n            endDate:endDate,\n            departmentId:departmentId,\n            kind:kind,\n            status:status,\n            num:num,\n            userId:userId,\n          },\n        })\n          .then((response) => {\n            let aData = response.data;\n            if(aData && aData.list.length>0){\n              aData.list.map((item)=>{\n                this.data.push({\n                  id:item.id,\n                  applyNum:item.num,\n                  applyDepart:item.department,\n                  applyDate:item.date,\n                  applyType:item.kindName,\n                  applyPerson:item.userName,\n                  goodsNum:item.goodsNum,\n                  status:item.statusName,\n                })\n              })\n            }\n            this.total = aData.totalCount;\n            this.selectLoading = false;\n          })\n          .catch((error) => {\n            this.selectLoading = false;\n            this.postErrorTip('请求失败');\n            console.log(error);\n          });\n      },\n\n      //分页\n      changePage(num) {\n        this.pageNum = num;\n        this.getApplyReceiveRecordPage(this.pageNum,this.pageSize,this.startDate,this.endDate,this.department,this.type,this.status,this.orderNO,this.applyPerson);\n      },\n      changePageSize(num) {\n        this.pageSize = num;\n        this.getApplyReceiveRecordPage(this.pageNum,this.pageSize,this.startDate,this.endDate,this.department,this.type,this.status,this.orderNO,this.applyPerson);\n      },\n      //查询\n      selectHandle(){\n        this.selectLoading = true;\n        this.getApplyReceiveRecordPage(this.pageNum,this.pageSize,this.startDate,this.endDate,this.department,this.type,this.status,this.orderNO,this.applyPerson);\n      },\n    },\n    mounted() {\n      this.calcWidth();\n    }\n  }\n</script>\n<style lang=\"less\" scoped>\n  .ivu-table .demo-table-info-row td{\n    background-color: rgba(28, 144, 243, 0.1);\n  }\n  .zd-cm-gp-des{\n    width: calc(~\"100% - 100px\");\n  }\n  /*适配*/\n  @media screen and (max-width: 1434px){\n    .zd-cm-res-fr{\n      float: left !important;\n    }\n    .zd-cm-res-fr > *,.zd-cm-res-fl{\n      margin-bottom:10px;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/consumablesManage/views/consumablesManage/goodsProvide.vue","function injectStyle (context) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54433b0e\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=styles&index=0!./goodsProvide.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=script&index=0!./goodsProvide.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=script&index=0!./goodsProvide.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54433b0e\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=template&index=0!./goodsProvide.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-54433b0e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/consumablesManage/views/consumablesManage/goodsProvide.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"zd-common-component\"},[_c('div',{staticClass:\"zd-common-clearFix\"},[_c('div',{staticClass:\"zd-common-fr zd-cm-res-fr\"},[_c('Input',{staticClass:\"zd-common-input-h38 zd-common-w150 zd-common-fl zd-common-mr10\",attrs:{\"maxlength\":50,\"placeholder\":\"申领单号\"},model:{value:(_vm.orderNO),callback:function ($$v) {_vm.orderNO=$$v},expression:\"orderNO\"}}),_vm._v(\" \"),_c('Select',{staticClass:\"zd-common-input-h38 zd-common-w200 zd-common-fl zd-common-mr10\",attrs:{\"placeholder\":\"全部申领部门\",\"clearable\":\"\"},model:{value:(_vm.department),callback:function ($$v) {_vm.department=$$v},expression:\"department\"}},_vm._l((_vm.departArr),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1),_vm._v(\" \"),_c('Select',{staticClass:\"zd-common-input-h38 zd-common-w150 zd-common-fl zd-common-mr10\",attrs:{\"placeholder\":\"全部领用类型\",\"clearable\":\"\"},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},_vm._l((_vm.typeArr),function(item){return _c('Option',{key:item.code,attrs:{\"value\":item.code}},[_vm._v(_vm._s(item.name))])}),1),_vm._v(\" \"),_c('Select',{staticClass:\"zd-common-input-h38 zd-common-w150 zd-common-fl zd-common-mr10\",attrs:{\"placeholder\":\"全部审核状态\",\"clearable\":\"\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},_vm._l((_vm.statusArr),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1),_vm._v(\" \"),_c('Select',{ref:\"leader\",staticClass:\"zd-common-input-h38 zd-common-w150 zd-common-fl zd-common-mr10\",attrs:{\"placeholder\":\"申领人\",\"filterable\":\"\",\"remote\":\"\",\"remote-method\":_vm.remoteMethod,\"loading\":_vm.loading},model:{value:(_vm.applyPerson),callback:function ($$v) {_vm.applyPerson=$$v},expression:\"applyPerson\"}},_vm._l((_vm.applyArr),function(option){return _c('Option',{key:option.id,attrs:{\"value\":option.id}},[_vm._v(_vm._s(option.name))])}),1),_vm._v(\" \"),_c('DatePicker',{staticClass:\"zd-common-input-h38 zd-common-w150 zd-common-fl zd-common-mr10\",attrs:{\"editable\":false,\"type\":\"date\",\"placeholder\":\"日期\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}}),_vm._v(\" \"),_c('Button',{staticClass:\"zd-common-fl\",attrs:{\"type\":\"primary\",\"loading\":_vm.selectLoading},on:{\"click\":_vm.selectHandle}},[(!_vm.selectLoading)?_c('span',[_vm._v(\"查询\")]):_c('span',[_vm._v(\"正在查询...\")])])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-mt16\"},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.data,\"row-class-name\":_vm.rowClassName}}),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-tc zd-common-mt20\"},[_c('Page',{attrs:{\"total\":_vm.total,\"current\":_vm.pageNum,\"page-size\":_vm.pageSize,\"show-sizer\":\"\",\"show-elevator\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePageSize}})],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"mask-closable\":false,\"width\":1200},model:{value:(_vm.provideModal),callback:function ($$v) {_vm.provideModal=$$v},expression:\"provideModal\"}},[_c('h3',{staticClass:\"zd-common-modal-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"物品发放\")])]),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-h400\"},[_c('vue-scroll',[_c('div',{staticClass:\"zd-common-pr20\"},[_c('Form',{ref:\"provideForm\",staticClass:\"zd-cm-applyForm\",attrs:{\"model\":_vm.provideForm,\"rules\":_vm.ruleValidate,\"label-width\":85,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"label\":\"出库日期：\",\"prop\":\"date\"}},[_c('DatePicker',{staticClass:\"zd-common-w150 zd-common-mr10\",attrs:{\"editable\":false,\"type\":\"date\",\"placeholder\":\"出库日期\"},model:{value:(_vm.provideForm.date),callback:function ($$v) {_vm.$set(_vm.provideForm, \"date\", $$v)},expression:\"provideForm.date\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"出库仓库：\",\"prop\":\"warehouse\"}},[_c('Select',{staticClass:\"zd-common-w200\",attrs:{\"clearable\":\"\",\"placeholder\":\"选择出库仓库\"},on:{\"on-change\":_vm.changeWarehouse},model:{value:(_vm.provideForm.warehouse),callback:function ($$v) {_vm.$set(_vm.provideForm, \"warehouse\", $$v)},expression:\"provideForm.warehouse\"}},_vm._l((_vm.warehouseArr),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-clearFix\"},[_c('span',{staticClass:\"zd-common-fl zd-common-mr14\"},[_vm._v(\"出库单号：\"),_c('span',{staticClass:\"zd-common-font-weight\"},[_vm._v(_vm._s(_vm.allDetail.num))])]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-common-mr14\"},[_vm._v(\"出库类型：\"),_c('span',{staticClass:\"zd-common-font-weight\"},[_vm._v(_vm._s(_vm.allDetail.kindName))])]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-common-mr14\"},[_vm._v(\"部门：\"),_c('span',{staticClass:\"zd-common-font-weight\"},[_vm._v(_vm._s(_vm.allDetail.departmentName))])]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-common-mr14\"},[_vm._v(\"领用人：\"),_c('span',{staticClass:\"zd-common-font-weight\"},[_vm._v(_vm._s(_vm.allDetail.userName))])])]),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-black-b zd-common-pt5 zd-common-pb5 zd-common-pl20 zd-common-mt5\"},[_c('Button',{staticClass:\"zd-common-mr10 zd-common-h32 zd-common-lh8\",attrs:{\"type\":\"default\"},on:{\"click\":_vm.delRowHandle}},[_vm._v(\"\\n              删除\\n            \")])],1),_vm._v(\" \"),_c('Form',{ref:\"formGoodsData\",staticClass:\"zd-common-mt10\",attrs:{\"model\":_vm.formGoodsData}},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.goodsCols,\"data\":_vm.formGoodsData.attrData,\"show-summary\":\"\",\"summary-method\":_vm.handleSummary,\"row-class-name\":_vm.rowClassName},on:{\"on-row-click\":_vm.clickRowHandle},scopedSlots:_vm._u([{key:\"number\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Form-item',{staticClass:\"zd-common-mt24\",attrs:{\"prop\":'attrData.' + index + '.number',\"rules\":{required: true, type:'number', validator:_vm.validateInventory, trigger:'blur'}}},[_c('InputNumber',{staticClass:\"zd-common-wp100\",attrs:{\"max\":_vm.formGoodsData.attrData[index].currentInventory,\"min\":1,\"precision\":0,\"placeholder\":\"数量\"},on:{\"on-change\":function($event){return _vm.getCurrIndex(index)}},model:{value:(_vm.formGoodsData.attrData[index].number),callback:function ($$v) {_vm.$set(_vm.formGoodsData.attrData[index], \"number\", $$v)},expression:\"formGoodsData.attrData[index].number\"}})],1)]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-mt10 zd-common-clearFix\"},[_c('span',{staticClass:\"zd-common-fl\"},[_vm._v(\"申领人：\"+_vm._s(_vm.allDetail.userName))]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-common-ml20\"},[_vm._v(\"申领日期：\"+_vm._s(_vm.allDetail.date))])]),_vm._v(\" \"),_c('Form',{ref:\"provideRemark\",staticClass:\"zd-common-mt20\",attrs:{\"model\":_vm.provideRemark}},[_c('FormItem',{staticClass:\"zd-common-mb0\",attrs:{\"label\":\"备注：\"}},[_c('Input',{staticClass:\"zd-common-fl\",staticStyle:{\"width\":\"826px\"},attrs:{\"placeholder\":\"备注\",\"maxlength\":100,\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5}},model:{value:(_vm.provideRemark.remark),callback:function ($$v) {_vm.$set(_vm.provideRemark, \"remark\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"provideRemark.remark\"}})],1)],1)],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-modal-footer zd-common-pt10\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{staticClass:\"zd-common-mr35 zd-common-w100 zd-common-h32 zd-common-lh8\",attrs:{\"type\":\"primary\",\"loading\":_vm.saveLoading},on:{\"click\":_vm.handleSubmit}},[(!_vm.saveLoading)?_c('span',[_vm._v(\"确定\")]):_c('span',[_vm._v(\"正在保存...\")])]),_vm._v(\" \"),_c('Button',{staticClass:\"zd-common-w100 zd-common-h32 zd-common-lh8\",on:{\"click\":function($event){_vm.provideModal = false}}},[_vm._v(\"取消\")])],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"mask-closable\":false,\"width\":920,\"closable\":false},on:{\"on-cancel\":_vm.cancelInventoryModal},model:{value:(_vm.inventoryModal),callback:function ($$v) {_vm.inventoryModal=$$v},expression:\"inventoryModal\"}},[_c('h3',{staticClass:\"zd-common-modal-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.goodsName))]),_vm._v(\" \"),_c('i',{staticClass:\"zd-common-fs12 zd-common-font-style zd-common-des-font-c zd-common-fr\"},[_vm._v(\"系统默认按照先入先出的原则自动分配出库数量\")])]),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-h400\"},[_c('vue-scroll',[_c('Form',{ref:\"inventoryData\",attrs:{\"model\":_vm.inventoryData}},[_c('Table',{staticClass:\"zd-common-overflow-v zd-cm-out-table\",attrs:{\"border\":\"\",\"columns\":_vm.inventoryCols,\"data\":_vm.inventoryData.attrData,\"show-summary\":\"\",\"summary-method\":_vm.handleInventorySummary},scopedSlots:_vm._u([{key:\"outNum\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn (_vm.inventoryData.attrData[index].surplusNum>0)?[_c('Form-item',{staticClass:\"zd-common-mt24\"},[_c('InputNumber',{attrs:{\"max\":_vm.inventoryData.attrData[index].surplusNum,\"min\":1,\"precision\":0,\"placeholder\":\"数量\"},on:{\"on-change\":function($event){return _vm.calcAmount(index)}},model:{value:(_vm.inventoryData.attrData[index].outNum),callback:function ($$v) {_vm.$set(_vm.inventoryData.attrData[index], \"outNum\", $$v)},expression:\"inventoryData.attrData[index].outNum\"}})],1)]:undefined}},{key:\"amount\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n              \"+_vm._s(_vm.inventoryData.attrData[index].amount)+\"\\n            \")]}}],null,true)})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-modal-footer zd-common-pt10\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{staticClass:\"zd-common-mr35 zd-common-w100 zd-common-h32 zd-common-lh8\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmInventoryModal}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('Button',{staticClass:\"zd-common-w100 zd-common-h32 zd-common-lh8\",on:{\"click\":_vm.cancelInventoryModal}},[_vm._v(\"取消\")])],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"mask-closable\":false,\"width\":920},model:{value:(_vm.viewModal),callback:function ($$v) {_vm.viewModal=$$v},expression:\"viewModal\"}},[_c('h3',{staticClass:\"zd-common-modal-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"查看申领单\")])]),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-h400\"},[_c('vue-scroll',[_c('div',{staticClass:\"zd-common-pr20\"},[(_vm.msgList.length>0)?_c('div',{staticClass:\"zd-common-h100 zd-common-border-radius6 zd-cm-process zd-common-mb20\"},[_c('vue-scroll',[_c('div',{staticClass:\"zd-cm-step zd-common-clearFix\"},[_vm._l((_vm.msgList),function(item,index){return [_c('div',{staticClass:\"zd-cur-step zd-common-fl zd-common-ml20 zd-common-mt29\"},[_c('p',[_vm._v(_vm._s(item.time))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.userName)+\"：\"+_vm._s(item.status))])]),_vm._v(\" \"),(index !== _vm.msgList.length - 1)?_c('div',{staticClass:\"zd-cur-step zd-common-fl zd-common-ml20 zd-common-lh100\"},[_c('Icon',{attrs:{\"type\":\"ios-arrow-forward\"}})],1):_vm._e()]})],2)])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-clearFix\"},[_c('span',{staticClass:\"zd-common-fl zd-common-mr14\"},[_vm._v(\"申领单号：\"),_c('span',{staticClass:\"zd-common-font-weight\"},[_vm._v(_vm._s(_vm.allDetail.num))])]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-common-mr14\"},[_vm._v(\"申领日期：\"),_c('span',{staticClass:\"zd-common-font-weight\"},[_vm._v(_vm._s(_vm.allDetail.date))])]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-common-mr14\"},[_vm._v(\"申领人：\"),_c('span',{staticClass:\"zd-common-font-weight\"},[_vm._v(_vm._s(_vm.allDetail.userName))])]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-common-mr14\"},[_vm._v(\"申领部门：\"),_c('span',{staticClass:\"zd-common-font-weight\"},[_vm._v(_vm._s(_vm.allDetail.departmentName))])]),_vm._v(\" \"),(_vm.allDetail.deptCheckName)?_c('span',{staticClass:\"zd-common-fl zd-common-mr14\"},[_vm._v(\"部门审核人：\"),_c('span',{staticClass:\"zd-common-font-weight\"},[_vm._v(_vm._s(_vm.allDetail.deptCheckName))])]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-common-mr14\"},[_vm._v(\"领用类型：\"),_c('span',{staticClass:\"zd-common-font-weight\"},[_vm._v(_vm._s(_vm.allDetail.kindName))])])]),_vm._v(\" \"),_c('Table',{staticClass:\"zd-common-mt10\",attrs:{\"border\":\"\",\"columns\":_vm.viewCols,\"data\":_vm.viewData,\"show-summary\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-mt10 zd-common-clearFix\"},[_c('span',{staticClass:\"zd-common-clearFix\"},[_c('span',{staticClass:\"zd-common-fl\"},[_vm._v(\"申领原因：\")]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-cm-applyReason\"},[_vm._v(_vm._s(_vm.allDetail.reason))])])]),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-mt10 zd-common-clearFix\"},[_c('span',{staticClass:\"zd-common-clearFix\"},[_c('span',{staticClass:\"zd-common-fl\"},[_vm._v(\"部门审核意见：\")]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-cm-applyReason\"},[_vm._v(_vm._s(_vm.allDetail.deptOpinion))])])]),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-mt10 zd-common-clearFix\"},[_c('span',{staticClass:\"zd-common-clearFix\"},[_c('span',{staticClass:\"zd-common-fl\"},[_vm._v(\"总务审核意见：\")]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-cm-applyReason\"},[_vm._v(_vm._s(_vm.allDetail.zwOpinion))])])])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-modal-footer no-print\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{staticClass:\"zd-common-w100 zd-common-h32 zd-common-lh8\",on:{\"click\":function($event){_vm.viewModal = false}}},[_vm._v(\"取消\")])],1)])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-54433b0e\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.4@vue-loader/lib/selector.js?type=template&index=0!./src/consumablesManage/views/consumablesManage/goodsProvide.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}