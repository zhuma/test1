{"version":3,"sources":["webpack:///src/consumablesManage/views/setting/goodsClassify.vue","webpack:///./src/consumablesManage/views/setting/goodsClassify.vue","webpack:///./src/consumablesManage/views/setting/goodsClassify.vue?6fb5"],"names":["goodsClassify","components","Treeselect","vue_treeselect_cjs_default","a","data","addForm","parents","name","sortNum","ruleValidate","required","message","trigger","saveLoading","isEdit","editId","treeOptions","normalizer","node","id","label","children","classifyDetail","delModal","created","this","getKind","methods","_this2","getGoodsKindTree","then","res","recursionFnTwo","changeSlideTree","arr","item","selected","getClassifyDetail","clearHandle","_this3","BaseAxios","method","url","response","aData","parentId","code","parseInt","catch","error","postErrorTip","console","log","deleteGoodsKind","_this4","postWarningTip","deleteKindHandle","showDel","addGoodClassify","clearSelected","handleSubmit","_this5","$refs","validate","valid","num","saveOrUpdateGoodsKind","_this6","goodsKind.goodsKind.id","goodsKind.name","goodsKind.code","goodsKind.id","obj","_this","i","len","length","$set","_obj","arguments","j","_len","validateField","field","closeOnSelect","value","instanceId","mounted","__vue_styles__","context","__webpack_require__","Component","Object","component_normalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","type","custom-icon","on","click","_v","on-select-change","ref","model","rules","label-width","multiple","options","noOptionsText","placeholder","close","callback","$$v","expression","prop","maxlength","trim","precision","min","max","loading","$event","_s","parentName","mask-closable","width","slot","__webpack_exports__"],"mappings":"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","file":"static/js/30.fd85edddfec524be17f5.js","sourcesContent":["<template>\n  <div class=\"zd-common-component zd-common-hp100\">\n    <div class=\"zd-common-clearFix zd-common-hp100\">\n        <div class=\"zd-common-border zd-common-fl zd-cm-left zd-common-hp100\">\n            <div class=\"zd-common-border-bottom1 zd-common-p10 zd-common-tc zd-common-h60\">\n              <Button type=\"primary\" class=\"zd-common-pl11 zd-common-pr11\" custom-icon=\"zd-common-icon-add\"\n                      @click=\"addGoodClassify\">\n                物品分类\n              </Button>\n            </div>\n            <div class=\"zd-cm-tree zd-common-overflow-y-a\">\n              <Tree :data=\"data\" @on-select-change=\"changeSlideTree\" class=\"zd-common-plr10\"></Tree>\n            </div>\n        </div>\n        <div v-if=\"isEdit\"\n             class=\"zd-common-border zd-common-p100 zd-common-fl zd-cm-right zd-common-ml20 zd-common-hp100\">\n            <Form ref=\"addForm\" :model=\"addForm\" :rules=\"ruleValidate\" :label-width=\"100\" class=\"zd-common-w500 zd-common-auto\">\n              <FormItem label=\"上级分类：\" >\n                <!-- <Input v-model.trim=\"addForm.parents\" placeholder=\"请选择上级分类\" class=\"zd-common-w300\"></Input> -->\n                <treeselect v-model=\"addForm.parents\" :multiple=\"false\" :options=\"treeOptions\" :normalizer=\"normalizer\" noOptionsText=\"暂无数据\"\n                            class=\"zd-common-w300\" placeholder=\"请选择上级分类\"  @close=\"closeOnSelect\"/>\n              </FormItem>\n              <FormItem label=\"分类名称：\"  prop=\"name\">\n                <Input v-model.trim=\"addForm.name\" placeholder=\"请输入分类名称\" :maxlength=\"10\" class=\"zd-common-w300\"></Input>\n              </FormItem>\n              <FormItem label=\"排序号：\" >\n                <InputNumber v-model.trim=\"addForm.sortNum\" placeholder=\"请输入排序号\" :precision=\"0\" :min=\"1\" :max=\"100000000\" class=\"zd-common-w300\"></InputNumber>\n                <p class=\"zd-common-des-font-c zd-common-fs12\">只允许输入正整数，序号越小排序越靠前</p>\n              </FormItem>\n            </Form>\n            <div class=\"zd-common-modal-footer zd-common-pt10\">\n              <Button type=\"primary\" class=\"zd-common-mr24 zd-common-w100 zd-common-h32 zd-common-lh8\"\n                      :loading=\"saveLoading\" @click=\"handleSubmit('addForm')\">\n                <span v-if=\"!saveLoading\">保存</span>\n                <span v-else>正在保存...</span>\n              </Button>\n              <Button @click=\"isEdit = false\" class=\"zd-common-w100 zd-common-h32 zd-common-lh8\">取消</Button>\n            </div>\n        </div>\n        <div v-else class=\"zd-common-border zd-common-p100 zd-common-fl zd-cm-right zd-common-ml20 zd-common-hp100\">\n          <div class=\"zd-common-w500 zd-common-auto\">\n            <p class=\"zd-common-clearFix zd-common-h36 zd-common-lh36\">\n              <span class=\"zd-common-fl zd-common-w100 zd-common-dib zd-common-tr\">上级分类：</span>\n              <span\n                class=\"zd-common-fl zd-common-border-bottom1 zd-common-w350 zd-common-dib zd-common-pb5 zd-common-hp100\">\n                {{classifyDetail.parentName}}</span>\n            </p>\n            <p class=\"zd-common-clearFix zd-common-mt30 zd-common-h36 zd-common-lh36\">\n              <span class=\"zd-common-fl zd-common-w100 zd-common-dib zd-common-tr\">分类名称：</span>\n              <span\n                class=\"zd-common-fl zd-common-border-bottom1 zd-common-w350 zd-common-dib zd-common-pb5 zd-common-hp100\">\n                {{classifyDetail.name}}</span>\n            </p>\n            <p class=\"zd-common-clearFix zd-common-mt30 zd-common-h36 zd-common-lh36\">\n              <span class=\"zd-common-fl zd-common-w100 zd-common-dib zd-common-tr\">排序号：</span>\n              <span\n                class=\"zd-common-fl zd-common-border-bottom1 zd-common-w350 zd-common-dib zd-common-pb5 zd-common-hp100\">\n                {{classifyDetail.code}}</span>\n            </p>\n          </div>\n          <div class=\"zd-common-modal-footer\">\n            <Button type=\"primary\" class=\"zd-common-mr24 zd-common-w100 zd-common-h32 zd-common-lh8\"\n                    @click=\"isEdit=true\">编辑\n            </Button>\n            <Button class=\"zd-common-w100 zd-common-h32 zd-common-lh8\" @click=\"showDel\">删除</Button>\n          </div>\n        </div>\n    </div>\n    <!--删除-->\n    <Modal v-model=\"delModal\" :mask-closable=\"false\" :width=\"360\">\n      <h3 slot=\"header\"></h3>\n      <div class=\"zd-common-tc\">\n        <div class=\"zd-common-modal-waring zd-common-auto\"></div>\n        <p class=\"zd-common-primary-c zd-common-font-size-large zd-common-mt15\">是否确认删除？</p>\n      </div>\n      <div slot=\"footer\" class=\"zd-common-modal-footer zd-common-pt10\">\n        <Button type=\"primary\" class=\"zd-common-mr24 zd-common-w100 zd-common-h32 zd-common-lh8\"\n                :loading=\"saveLoading\" @click=\"deleteKindHandle\">\n          <span v-if=\"!saveLoading\">确定</span>\n          <span v-else>正在删除...</span>\n        </Button>\n        <Button @click=\"delModal = false\" class=\"zd-common-w100 zd-common-h32 zd-common-lh8\">取消</Button>\n      </div>\n    </Modal>\n  </div>\n</template>\n<script>\n  import Treeselect from '@riophae/vue-treeselect'\n  import '@riophae/vue-treeselect/dist/vue-treeselect.css'\n  export default {\n    components: {\n      Treeselect\n    },\n    data() {\n      return {\n        addForm:{\n          parents:null,\n          name:'',\n          sortNum:null,\n        },\n        ruleValidate: {\n          parents: [\n            { required: true, message:'不能为空', trigger: 'change' }\n          ],\n          name: [\n            { required: true, message:'不能为空', trigger: 'blur' }\n          ],\n        },\n        saveLoading:false,\n        isEdit:true,\n        editId:'',\n        //tree\n        treeOptions:[],\n        normalizer(node) {\n          return {\n            id: node.id,\n            label: node.name,\n            children: node.children,\n          }\n        },\n        data:[],\n        classifyDetail:{},\n        //删除\n        delModal:false\n      }\n    },\n    created(){\n      this.getKind();\n    },\n    methods:{\n      //获取分类\n      getKind(){\n        this.treeOptions= [];\n        this.data= [];\n        this.getGoodsKindTree().then((res)=>{\n          this.treeOptions = res.data;\n          // this.recursionFnOne(this.treeOptions,res.data);\n          this.recursionFnTwo(this.data,res.data);\n        })\n      },\n      //点击左侧树节点\n      changeSlideTree(arr,item){\n        if(item.selected){\n          this.isEdit = false;\n          this.getClassifyDetail(item.id);\n        }else{\n          this.isEdit = true;\n          this.clearHandle();\n        }\n      },\n      //获取物品分类详情\n      getClassifyDetail(id){\n        BaseAxios(\n          {\n            method: 'post',\n            url: '/sr/storeroomData!getGoodsKindInfo.action',\n            data: {id:id}\n          })\n          .then((response) => {\n              let aData = response.data;\n              this.classifyDetail = response.data;\n              this.addForm.parents = aData.parentId;\n              this.addForm.name = aData.name;\n              this.addForm.sortNum = aData.code === \"\" ? null : parseInt(aData.code);\n              this.editId = aData.id;\n          })\n          .catch((error) => {\n            this.postErrorTip('请求失败');\n            console.log(error);\n          });\n      },\n      //删除物品分类\n      deleteGoodsKind(id){\n        BaseAxios(\n          {\n            method: 'post',\n            url: '/sr/storeroomData!deleteGoodsKind.action',\n            data: {\n              id:id\n            }\n          })\n          .then((response) => {\n            if(response.data !== \"\"){\n              this.postWarningTip(response.data);\n            }else{\n              this.classifyDetail = response.data;\n              this.clearHandle();\n            }\n            this.saveLoading = false;\n            this.delModal = false;\n            this.getKind();\n          })\n          .catch((error) => {\n            this.delModal = false;\n            this.saveLoading = false;\n            this.postErrorTip('请求失败');\n            console.log(error);\n          });\n      },\n      deleteKindHandle(){\n        this.saveLoading = true;\n        this.deleteGoodsKind(this.editId);\n      },\n      showDel(){\n        if(this.editId === \"\"){\n          return this.postWarningTip('请选择要删除的分类');\n        }\n        this.delModal=true;\n      },\n      //添加物品分类\n      addGoodClassify(){\n        this.isEdit = true;\n        this.clearSelected(this.data);\n        this.clearHandle();\n      },\n      //保存验证\n      handleSubmit(name) {\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n              this.saveLoading=true;\n              let num = '';\n              if(this.addForm.sortNum===null){\n                num = '';\n              }else{\n                num = this.addForm.sortNum;\n              }\n              this.saveOrUpdateGoodsKind(this.addForm.parents,this.addForm.name,num,this.editId);\n          }\n        })\n      },\n      //保存物品分类\n      saveOrUpdateGoodsKind(parentId,name,sortNum,id){\n        BaseAxios({\n          method: 'post',\n          url: '/sr/storeroomData!saveOrUpdateGoodsKind.action',\n          data:{\n            \"goodsKind.goodsKind.id\":parentId,\n            \"goodsKind.name\":name,\n            \"goodsKind.code\":sortNum,\n            \"goodsKind.id\":id\n          },\n        })\n          .then((response) => {\n            this.saveLoading = false;\n            this.isEdit = true;\n            this.clearHandle();\n            this.getKind();\n          })\n          .catch((error) => {\n            this.saveLoading = false;\n            this.postErrorTip('请求失败');\n            console.log(error);\n          });\n      },\n      clearHandle(){\n        this.addForm.parents = null;\n        this.addForm.name = '';\n        this.addForm.sortNum = null;\n        this.editId = '';\n        this.classifyDetail = {};\n      },\n      //清除选中\n      clearSelected(obj){\n        let _this = this;\n        for(let i=0,len=obj.length;i<len;i++){\n          _this.$set(obj[i],'selected',false);\n          if(obj[i].children != null && obj[i].children.length>0){\n            (function(){\n              let _obj = arguments[0];\n              for(let j=0,_len=_obj.length;j<_len;j++){\n                _this.$set(_obj[j],'selected',false);\n                if(_obj[j].children!=null && _obj[j].children.length>0){\n                  _this.clearSelected(_obj[j].children);//递归\n                }\n              }\n            })(obj[i].children)\n          }\n        }\n      },\n      //验证单个字段\n      validateField(name,field){\n        this.$refs[name].validateField(field);\n      },\n      //关闭tree事件\n      closeOnSelect(value, instanceId){\n        this.addForm.parents = value;\n        // this.validateField('addForm','parents');\n      },\n    },\n    mounted(){}\n  }\n</script>\n<style lang=\"less\" scoped>\n  .zd-cm-tree{\n    height: calc(~\"100% - 60px\");\n  }\n  .zd-cm-component{\n    height: calc(~\"100% - 40px\");\n  }\n .zd-cm-left{\n   width: 220px;\n  }\n  .zd-cm-right{\n    width: calc(~\"100% - 240px\");\n  }\n\n</style>\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/consumablesManage/views/setting/goodsClassify.vue","function injectStyle (context) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-38794f4d\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=styles&index=0!./goodsClassify.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=script&index=0!./goodsClassify.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=script&index=0!./goodsClassify.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-38794f4d\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=template&index=0!./goodsClassify.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-38794f4d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/consumablesManage/views/setting/goodsClassify.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"zd-common-component zd-common-hp100\"},[_c('div',{staticClass:\"zd-common-clearFix zd-common-hp100\"},[_c('div',{staticClass:\"zd-common-border zd-common-fl zd-cm-left zd-common-hp100\"},[_c('div',{staticClass:\"zd-common-border-bottom1 zd-common-p10 zd-common-tc zd-common-h60\"},[_c('Button',{staticClass:\"zd-common-pl11 zd-common-pr11\",attrs:{\"type\":\"primary\",\"custom-icon\":\"zd-common-icon-add\"},on:{\"click\":_vm.addGoodClassify}},[_vm._v(\"\\n              物品分类\\n            \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"zd-cm-tree zd-common-overflow-y-a\"},[_c('Tree',{staticClass:\"zd-common-plr10\",attrs:{\"data\":_vm.data},on:{\"on-select-change\":_vm.changeSlideTree}})],1)]),_vm._v(\" \"),(_vm.isEdit)?_c('div',{staticClass:\"zd-common-border zd-common-p100 zd-common-fl zd-cm-right zd-common-ml20 zd-common-hp100\"},[_c('Form',{ref:\"addForm\",staticClass:\"zd-common-w500 zd-common-auto\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.ruleValidate,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"上级分类：\"}},[_c('treeselect',{staticClass:\"zd-common-w300\",attrs:{\"multiple\":false,\"options\":_vm.treeOptions,\"normalizer\":_vm.normalizer,\"noOptionsText\":\"暂无数据\",\"placeholder\":\"请选择上级分类\"},on:{\"close\":_vm.closeOnSelect},model:{value:(_vm.addForm.parents),callback:function ($$v) {_vm.$set(_vm.addForm, \"parents\", $$v)},expression:\"addForm.parents\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"分类名称：\",\"prop\":\"name\"}},[_c('Input',{staticClass:\"zd-common-w300\",attrs:{\"placeholder\":\"请输入分类名称\",\"maxlength\":10},model:{value:(_vm.addForm.name),callback:function ($$v) {_vm.$set(_vm.addForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addForm.name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"排序号：\"}},[_c('InputNumber',{staticClass:\"zd-common-w300\",attrs:{\"placeholder\":\"请输入排序号\",\"precision\":0,\"min\":1,\"max\":100000000},model:{value:(_vm.addForm.sortNum),callback:function ($$v) {_vm.$set(_vm.addForm, \"sortNum\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addForm.sortNum\"}}),_vm._v(\" \"),_c('p',{staticClass:\"zd-common-des-font-c zd-common-fs12\"},[_vm._v(\"只允许输入正整数，序号越小排序越靠前\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-modal-footer zd-common-pt10\"},[_c('Button',{staticClass:\"zd-common-mr24 zd-common-w100 zd-common-h32 zd-common-lh8\",attrs:{\"type\":\"primary\",\"loading\":_vm.saveLoading},on:{\"click\":function($event){return _vm.handleSubmit('addForm')}}},[(!_vm.saveLoading)?_c('span',[_vm._v(\"保存\")]):_c('span',[_vm._v(\"正在保存...\")])]),_vm._v(\" \"),_c('Button',{staticClass:\"zd-common-w100 zd-common-h32 zd-common-lh8\",on:{\"click\":function($event){_vm.isEdit = false}}},[_vm._v(\"取消\")])],1)],1):_c('div',{staticClass:\"zd-common-border zd-common-p100 zd-common-fl zd-cm-right zd-common-ml20 zd-common-hp100\"},[_c('div',{staticClass:\"zd-common-w500 zd-common-auto\"},[_c('p',{staticClass:\"zd-common-clearFix zd-common-h36 zd-common-lh36\"},[_c('span',{staticClass:\"zd-common-fl zd-common-w100 zd-common-dib zd-common-tr\"},[_vm._v(\"上级分类：\")]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-common-border-bottom1 zd-common-w350 zd-common-dib zd-common-pb5 zd-common-hp100\"},[_vm._v(\"\\n              \"+_vm._s(_vm.classifyDetail.parentName))])]),_vm._v(\" \"),_c('p',{staticClass:\"zd-common-clearFix zd-common-mt30 zd-common-h36 zd-common-lh36\"},[_c('span',{staticClass:\"zd-common-fl zd-common-w100 zd-common-dib zd-common-tr\"},[_vm._v(\"分类名称：\")]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-common-border-bottom1 zd-common-w350 zd-common-dib zd-common-pb5 zd-common-hp100\"},[_vm._v(\"\\n              \"+_vm._s(_vm.classifyDetail.name))])]),_vm._v(\" \"),_c('p',{staticClass:\"zd-common-clearFix zd-common-mt30 zd-common-h36 zd-common-lh36\"},[_c('span',{staticClass:\"zd-common-fl zd-common-w100 zd-common-dib zd-common-tr\"},[_vm._v(\"排序号：\")]),_vm._v(\" \"),_c('span',{staticClass:\"zd-common-fl zd-common-border-bottom1 zd-common-w350 zd-common-dib zd-common-pb5 zd-common-hp100\"},[_vm._v(\"\\n              \"+_vm._s(_vm.classifyDetail.code))])])]),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-modal-footer\"},[_c('Button',{staticClass:\"zd-common-mr24 zd-common-w100 zd-common-h32 zd-common-lh8\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.isEdit=true}}},[_vm._v(\"编辑\\n          \")]),_vm._v(\" \"),_c('Button',{staticClass:\"zd-common-w100 zd-common-h32 zd-common-lh8\",on:{\"click\":_vm.showDel}},[_vm._v(\"删除\")])],1)])]),_vm._v(\" \"),_c('Modal',{attrs:{\"mask-closable\":false,\"width\":360},model:{value:(_vm.delModal),callback:function ($$v) {_vm.delModal=$$v},expression:\"delModal\"}},[_c('h3',{attrs:{\"slot\":\"header\"},slot:\"header\"}),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-tc\"},[_c('div',{staticClass:\"zd-common-modal-waring zd-common-auto\"}),_vm._v(\" \"),_c('p',{staticClass:\"zd-common-primary-c zd-common-font-size-large zd-common-mt15\"},[_vm._v(\"是否确认删除？\")])]),_vm._v(\" \"),_c('div',{staticClass:\"zd-common-modal-footer zd-common-pt10\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{staticClass:\"zd-common-mr24 zd-common-w100 zd-common-h32 zd-common-lh8\",attrs:{\"type\":\"primary\",\"loading\":_vm.saveLoading},on:{\"click\":_vm.deleteKindHandle}},[(!_vm.saveLoading)?_c('span',[_vm._v(\"确定\")]):_c('span',[_vm._v(\"正在删除...\")])]),_vm._v(\" \"),_c('Button',{staticClass:\"zd-common-w100 zd-common-h32 zd-common-lh8\",on:{\"click\":function($event){_vm.delModal = false}}},[_vm._v(\"取消\")])],1)])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-38794f4d\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.4@vue-loader/lib/selector.js?type=template&index=0!./src/consumablesManage/views/setting/goodsClassify.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}